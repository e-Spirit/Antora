<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>FirstSpirit Connect (Headless): For SAP Commerce Cloud :: CrownSpirit Documentation</title>
    <link rel="canonical" href="https://e-spirit.github.io/Antora/ecom/1.0/Spartacus/FS_Connect_SAP_hl_Documentation_EN.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://e-spirit.github.io/Antora">CrownSpirit Documentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ecom" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">E-Commerce</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-text">Welcome</span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../Spryker/index.html">Spryker</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../Spryker/EN/introduction/introduction.html">Introduction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../Spryker/EN/introduction/functions.html">Range of functions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../Spryker/EN/introduction/architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../Spryker/EN/introduction/concept.html">Concept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../Spryker/EN/introduction/requirements.html">Technical requirements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../Spryker/EN/introduction/important-information.html">Important information</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Spryker/EN/spryker-installation/spryker-installation.html">Spryker - Installation and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Spryker/EN/fs-installation/fs-installation.html">FirstSpirit - Installation and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Spryker/EN/referenceproject/referenceproject.html">Reference Project</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Spartacus</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">E-Commerce</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../component-b/dev/index.html">CrownSpirit Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../component-b/dev/index.html">dev</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../index.html">E-Commerce</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../fsxa-pwa/1.3.0/index.html">FSXA-PWA</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../fsxa-pwa/1.3.0/index.html">1.3.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../fsxa-ui/4.1.0/index.html">FSXA-UI</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../fsxa-ui/4.1.0/index.html">4.1.0</a>
        </li>
        <li class="version">
          <a href="../../../fsxa-ui/3.0.0/index.html">3.0.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../component-b/dev/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">E-Commerce</a></li>
    <li><a href="FS_Connect_SAP_hl_Documentation_EN.html">FirstSpirit Connect (Headless): For SAP Commerce Cloud</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/pahl-espirit/ecom/edit/main/modules/Spartacus/pages/FS_Connect_SAP_hl_Documentation_EN.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">FirstSpirit Connect (Headless): For SAP Commerce Cloud</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_range_of_functions">1.1. Range of functions</a></li>
<li><a href="#_architecture">1.2. Architecture</a></li>
<li><a href="#_concept">1.3. Concept</a>
<ul class="sectlevel3">
<li><a href="#_pages">1.3.1. Pages</a></li>
<li><a href="#concept_pagestypes">1.3.2. Page types</a></li>
<li><a href="#_preview">1.3.3. Preview</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_commerce_cloud_installation_and_configuration">2. Commerce Cloud - Installation and configuration</a>
<ul class="sectlevel2">
<li><a href="#cc_installation_oauth">2.1. OAuth configuration</a></li>
<li><a href="#sp_installation_libraries">2.2. Integration and configuration of the libraries</a>
<ul class="sectlevel3">
<li><a href="#sp_installation_config_pages">2.2.1. Definition of the Shop and FirstSpirit Driven Pages</a></li>
<li><a href="#sp_installation_mergestrategies">2.2.2. Merge strategies</a></li>
</ul>
</li>
<li><a href="#sp_installation_dummy_page">2.3. Creation of a dummy page</a></li>
</ul>
</li>
<li><a href="#_firstspirit_installation_and_configuration">3. FirstSpirit - Installation and Configuration</a>
<ul class="sectlevel2">
<li><a href="#fs_installation_pcomp">3.1. Configuration of the project component</a>
<ul class="sectlevel3">
<li><a href="#fs_installation_pcomp_general">3.1.1. General</a></li>
<li><a href="#fs_installation_pcomp_product_dap">3.1.2. Product DAP</a></li>
<li><a href="#fs_installation_pcomp_category_dap">3.1.3. Category DAP</a></li>
</ul>
</li>
<li><a href="#fs_installation_wcomp">3.2. Adding the web components</a></li>
<li><a href="#fs_previewurl">3.3. Definition of the external preview URL</a></li>
<li><a href="#install_workflow">3.4. Workflows</a></li>
<li><a href="#install_translation_studio">3.5. TranslationStudio</a></li>
<li><a href="#install_pset">3.6. Project settings</a></li>
<li><a href="#install_schedule">3.7. Deployment schedules</a></li>
</ul>
</li>
<li><a href="#referenceproject">4. Reference project</a>
<ul class="sectlevel2">
<li><a href="#rp_pages">4.1. Pages</a></li>
<li><a href="#rp_sections">4.2. Sections</a></li>
<li><a href="#rp_links">4.3. Links</a></li>
</ul>
</li>
<li><a href="#use_cases">5. Use cases</a>
<ul class="sectlevel2">
<li><a href="#uc_contentmodule">5.1. Development of a new content module</a></li>
<li><a href="#uc_datasets">5.2. Dataset usage</a></li>
<li><a href="#uc_fsdrivenpage">5.3. Creation of a FirstSpirit Driven Page</a></li>
<li><a href="#uc_translation">5.4. Translation of editorial content</a></li>
<li><a href="#uc_delete_pages">5.5. Page deletion</a></li>
</ul>
</li>
<li><a href="#_legal_notices">6. Legal notices</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Customers' expectations of modern e-commerce shop systems are becoming increasingly diverse:
In addition to the pure display of product catalogs, they must provide customers with unique and personalized shopping experiences.
Thereby, customers want to be addressed via all channels and devices used by them.
The number of touchpoints used is therefore unlimited.</p>
</div>
<div class="paragraph">
<p>The <em>FirstSpirit Connect (Headless) for SAP Commerce Cloud</em> integration links the Digital Experience Platform FirstSpirit with the e-commerce shop system SAP Commerce Cloud in combination with the <a href="https://sap.github.io/cloud-commerce-spartacus-storefront-docs/">Spartacus Storefront</a>.
It thus creates a powerful overall system that combines the functional advantages of these systems and enables the delivery of modern and personalized content.</p>
</div>
<div class="paragraph">
<p>Editors are provided full access to the SAP Commerce Cloud product catalog and can supplement it with editorial content such as shoppable videos.
The content is thereby maintained using an intuitive WYSIWYG interface provided by FirstSpirit.
They also have the ability to create new content.
The content can be integrated in pages of various types - on the homepage as well as on landing pages or product and category pages.
For this, knowledge of the e-commerce shop system is not required.
The WYSIWYG interface provides all the necessary functionalities.</p>
</div>
<div class="paragraph">
<p>The content is still delivered by the Spartacus Storefront.
However, the Storefront no longer obtains this content exclusively from SAP Commerce Cloud, but also from the <em>FirstSpirit CaaS</em> (Content as a Service).
The <em>CaaS</em> is a central content repository and persists the content maintained in FirstSpirit.<br>
The overall system of FirstSpirit, Spartacus and the SAP Commerce Cloud thus has an architecture in which the editorial backend of FirstSpirit is clearly separated from the Spartacus Storefront.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If the expression "Commerce Cloud" is used in the remainder of this documentation, this refers to SAP Commerce Cloud in all cases.<br>
This also applies to the short form "FirstSpirit Connect", which within this documentation always refers to the <em>FirstSpirit Connect (Headless) for SAP Commerce Cloud</em> integration.</p>
</div>
<div class="paragraph">
<p>Furthermore, the entire document is geared towards connecting to the <a href="https://sap.github.io/cloud-commerce-spartacus-storefront-docs/">Spartacus Storefront</a> and the B2C demo shop.
Mention of the Storefront refers to the Spartacus Storefront in all cases.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Included in the delivery of the <em>FirstSpirit Connect (Headless) for SAP Commerce Cloud</em> module is the reference project <em>FirstSpirit Connect Reference Project</em>.
This documentation is consistently based on the reference project and provides an explanation of the functions made available by the module using common use cases.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_range_of_functions"><a class="anchor" href="#_range_of_functions"></a>1.1. Range of functions</h3>
<div class="paragraph">
<p><em>FirstSpirit Connect</em> allows to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Access product and category information</p>
</li>
<li>
<p>Creation of new editorial content</p>
</li>
<li>
<p>Display shop elements and editorial content in the FirstSpirit preview simultaneously</p>
</li>
<li>
<p>Delivery of content to any touchpoints</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The corresponding functions are made available when the module is installed and configured within the WYSIWYG client.</p>
</div>
<div class="paragraph">
<p>Familiar FirstSpirit tools are used to maintain the content, meaning that editors who are already familiar with FirstSpirit do not require any additional knowledge - especially not about the e-commerce shop system.
The content is made available to the Storefront using the <em>CaaS</em> and is delivered by the Storefront in combination with the content from the Commerce Cloud.</p>
</div>
<div class="paragraph">
<p>This means that within the newly created overall system there is no difference for the delivery of editorial content.
It is still carried out by the Storefront.
Even if the FirstSpirit server is maintained, this affects neither the Storefront nor the Commerce Cloud.</p>
</div>
<div id="img_dataflow" class="imageblock">
<div class="content">
<img src="_images/images/dataflow.png" alt="dataflow">
</div>
<div class="title">Figure 1. Data flow</div>
</div>
</div>
<div class="sect2">
<h3 id="_architecture"><a class="anchor" href="#_architecture"></a>1.2. Architecture</h3>
<div class="paragraph">
<p>By default, the SAP shop architecture consists of the Commerce Cloud and the <a href="https://sap.github.io/cloud-commerce-spartacus-storefront-docs//">Spartacus Storefront</a>.
While, in this system, the Commerce Cloud provides all shop functionalities and persists all shop content, the Spartacus Storefront delivers this content.</p>
</div>
<div class="paragraph">
<p>With the <em>FirstSpirit Connect (Headless) for SAP Commerce Cloud</em> solution, FirstSpirit and the <a href="https://docs.e-spirit.com/module/caas/CaaS_Product_Documentation_EN.html"><em>CaaS</em></a> integrate into this architecture and extend the shop functionalities of the Commerce Cloud.
The integration thus creates an overall system that combines the functional strengths of the individual systems.
Within this overall system FirstSpirit and the Commerce Cloud represent the backend, while the <em>CaaS</em> forms the middleware and the Storefront is the front end.</p>
</div>
<div class="paragraph">
<p>The following graphic shows the high-level architecture of this overall system:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/sp_architecture_simple.png" alt="sp architecture simple">
</div>
<div class="title">Figure 2. High-level architecture</div>
</div>
<div class="paragraph">
<p>Within the newly created overall system, the Storefront continues to deliver the content, which it by default obtains from the Commerce Cloud.
In addition, it queries the content of the respective <em>CaaS</em> instance and links it with those of the Commerce Cloud.
For this purpose it is extended by the <code>fs-spartacus-bridge</code> library.</p>
</div>
<div class="paragraph">
<p>In contrast to the delivery of the content, its creation and maintenance shifts from the Commerce Cloud to FirstSpirit.
With the ContentCreator, FirstSpirit provides an intuitive WYSIWYG client for this purpose.
The so-called <a href="https://docs.e-spirit.com/tpp/index.html.en"><em>Omnichannel Manager</em></a> (OCM) is integrated into this client, which allows displaying external content in the ContentCreator (see figure <a href="#img_architecture2">Low-level architecture</a>).</p>
</div>
<div class="paragraph">
<p>By embedding the Storefront in the Omnichannel Manager, the editors are provided with a combined preview of the content, which in this case originate from the <em>Preview CaaS</em> and the Commerce Cloud.
This way, the editors get the possibility to edit already existing shop pages in the ContentCreator.
For this purpose, a variety of different components, such as shoppable videos, are available for them.</p>
</div>
<div class="paragraph">
<p>Product and category information is provided via a report in the ContentCreator.
This report accesses the Product Catalog via the Commerce Cloud&#8217;s <code>CMS WebServices</code> interface and thus determines the necessary data.</p>
</div>
<div class="paragraph">
<p>The transfer of the created or modified content to the <em>Online CaaS</em> is done with each release.
The <em>CaaS</em> persists the content in JSON format in the form of content fragments and makes them available to the Storefront, which integrates them into the shop together with the Commerce Cloud content.
In order to display content originating from the reference project, the Storefront must include the <code>fs-spartacus-view-components</code> library in addition to the bridge.</p>
</div>
<div class="paragraph">
<p>The overall system of FirstSpirit, Spartacus and the Commerce Cloud thus has an architecture in which the editorial backend of FirstSpirit is clearly separated from the Storefront.
A maintenance of FirstSpirit affects neither the Storefront nor the Commerce Cloud.</p>
</div>
<div id="img_architecture2" class="imageblock">
<div class="content">
<img src="_images/images/sp_architecture.png" alt="sp architecture">
</div>
<div class="title">Figure 3. Low-level architecture</div>
</div>
</div>
<div class="sect2">
<h3 id="_concept"><a class="anchor" href="#_concept"></a>1.3. Concept</h3>
<div class="paragraph">
<p>The <em>FirstSpirit Connect</em> integration enables editorial content for the Storefront to be maintained in FirstSpirit and this to be transferred into the <em>CaaS</em>.
From there it is retrieved from the Storefront and delivered together with the product information from the Commerce Cloud.
For this, the processing of content in both systems must be coordinated and be mutually compatible.
The sub-chapters below describe the underlying concept used to achieve this compatibility.</p>
</div>
<div class="sect3">
<h4 id="_pages"><a class="anchor" href="#_pages"></a>1.3.1. Pages</h4>
<div class="paragraph">
<p>Similar to FirstSpirit, the pages in Commerce Cloud are based on a structure of various components.
To enable editorial content to be exchanged between both systems, these components must be coordinated.</p>
</div>
<div class="paragraph">
<p>Within the reference project <em>FirstSpirit Connect Reference Project</em> included in the delivery, the slots are represented by the content areas of a page template.
Sections can be added to them; each one corresponds to a component (see figure <a href="#img_page_rendering">Page Rendering</a>).</p>
</div>
<div class="paragraph">
<p>FirstSpirit can thus be used to generate components that are displayed in a page via slots.</p>
</div>
<div id="img_page_rendering" class="imageblock">
<div class="content">
<img src="_images/images/concept.png" alt="concept">
</div>
<div class="title">Figure 4. Page Rendering</div>
</div>
</div>
<div class="sect3">
<h4 id="concept_pagestypes"><a class="anchor" href="#concept_pagestypes"></a>1.3.2. Page types</h4>
<div class="paragraph">
<p>As described in the previous chapter, the maintenance of editorial content both in FirstSpirit and in the Commerce Cloud is based on a page.
The integration differentiates between Shop Driven Pages and the FirstSpirit Driven Pages.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Shop Driven Pages</dt>
<dd>
<p>In contrast to the FirstSpirit Driven Pages, the Shop Driven Pages have a page both in FirstSpirit and in the Commerce Cloud.
For example, they correspond to the homepage or the product and category pages.
The contents maintained in FirstSpirit overwrite or extend the existing contents in the predefined slots of these pages.</p>
</dd>
<dt class="hdlist1">FirstSpirit Driven Pages</dt>
<dd>
<p>FirstSpirit Driven Pages exist exclusively in FirstSpirit and do not have an associated page in the Commerce Cloud.
They are used to create content or campaign pages, which are not necessarily included in the standard scope of the store.
FirstSpirit Driven Pages can either use the layout of a Shop Driven Page or their own layout, which is defined in the Storefront.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The storage of the contents is identical for both page types:
They are transferred to the <em>CaaS</em> and persisted in it.
At the time a page is queried, the Storefront checks whether a page exists for a given ID in both the <em>CaaS</em> and the Commerce Cloud.
If this is the case, it is a Shop Driven Page.
Otherwise, if only the <em>CaaS</em> contains a page for the corresponding ID, it is a FirstSpirit Driven Page.
If neither system returns a page, the Storefront displays an error page.</p>
</div>
</div>
<div class="sect3">
<h4 id="_preview"><a class="anchor" href="#_preview"></a>1.3.3. Preview</h4>
<div class="paragraph">
<p>The integration effected by the <em>FirstSpirit Connect</em> module only allows FirstSpirit to generate and maintain editorial content and to publish it in the form of JSON documents.
The Storefront, however, continues to determine the framework of a page, whose slots integrate the generated components.</p>
</div>
<div class="paragraph">
<p>To present the preview of a page, FirstSpirit therefore determines its current view in the Spartacus Storefront.
This in turn retrieves the editorial content from the <em>Preview CaaS</em> and replaces the corresponding components.
FirstSpirit then displays the result in the ContentCreator using the <em>Omnichannel Manager</em>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_commerce_cloud_installation_and_configuration"><a class="anchor" href="#_commerce_cloud_installation_and_configuration"></a>2. Commerce Cloud - Installation and configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>FirstSpirit is used to create and maintain editorial data, which is then transferred to and persisted by the <em>CaaS</em>.
To integrate the data into the shop, the Storefront requires access to the <em>CaaS</em>.
This access is provided by various libraries which must be integrated and configured on the Spartacus side.</p>
</div>
<div class="paragraph">
<p>The following chapters explain all necessary steps for installing and configuring the libraries and the required Commerce Cloud expansions.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <em>FirstSpirit Connect</em> integration requires the Commerce Cloud (in version 19.05 or higher) and the Spartacus Storefront in version 3.x.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="cc_installation_oauth"><a class="anchor" href="#cc_installation_oauth"></a>2.1. OAuth configuration</h3>
<div class="paragraph">
<p>The <em>FirstSpirit Connect</em> module requires <a href="#pcomp_oauth">OAuth authentication</a> to query information from Commerce Cloud.
For this purpose, an OAuth client must be configured within Commerce Cloud.</p>
</div>
<div class="paragraph">
<p>There are two options for creating this type of OAuth client:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Manually, in the back office under <code><strong><span class="menuseq"><b class="menu">System</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">OAuth</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">OAuth Clients</b></span></strong></code></p>
</li>
<li>
<p>Automatically, by importing the following ImpEx<br>
(in the <code><strong>Hybris Admin Console</strong></code> under <code><strong><span class="menuseq"><b class="menu">Console</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">ImpEx Import</b></span></strong></code>)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">ImpEx</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">INSERT_UPDATE OAuthClientDetails;clientId[unique=true] ;resourceIds;scope ;authorizedGrantTypes ;authorities ;clientSecret;registeredRedirectUri
;firstspirit ;hybris ;extended,previewwebservices;authorization_code,refresh_token,password,client_credentials;ROLE_TRUSTED_CLIENT ;secret; ;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sp_installation_libraries"><a class="anchor" href="#sp_installation_libraries"></a>2.2. Integration and configuration of the libraries</h3>
<div class="paragraph">
<p>In the system realized by the <em>FirstSpirit Connect</em> integration the Storefront takes over the delivery of the content.
It queries the content from both the Commerce Cloud and the respective <em>CaaS</em> instance and links them together.
For this purpose it must be extended by the <a href="https://www.npmjs.com/package/fs-spartacus-bridge"><code>fs-spartacus-bridge</code></a> library.
In order to display and edit the content originating from the reference project, the integration of the libraries
<a href="https://www.npmjs.com/package/fs-spartacus-view-components"><code>fs-spartacus-view-components</code></a> and <a href="https://www.npmjs.com/package/fs-tpp-api"><code>fs-tpp-api</code></a> is also required.
Furthermore, the <a href="https://www.npmjs.com/package/fs-spartacus-common"><code>fs-spartacus-common</code></a> library is required.
It contains classes that are used by both the bridge and the Angular UI components.</p>
</div>
<div class="paragraph">
<p>The libraries are provided in the form of npm packages, which can be installed using the following commands:</p>
</div>
<div class="listingblock">
<div class="title">Installation commands</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-npm hljs" data-lang="npm">npm install fs-spartacus-bridge
npm install fs-spartacus-view-components
npm install fs-spartacus-common
npm install fs-tpp-api@cloud-sap-spartacus</code></pre>
</div>
</div>
<div class="paragraph">
<p>Additional CSS is required for displaying the editing functionality in the ContentCreator.
This is included in the bridge and must be imported into the <code>styles.scss</code> file of the Storefront afterwards.</p>
</div>
<div class="listingblock">
<div class="title">Integration of the CSS file</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-css hljs" data-lang="css">@import '~fs-spartacus-bridge/styles/index';</code></pre>
</div>
</div>
<div class="paragraph">
<p>Furthermore, in the last step of the installation the Angular UI components and the bridge must be included in the <code>imports</code> array of the <code>@NgModules</code> in the main module of the Spartacus application (<code>app.module.ts</code>).
In contrast to the UI components, the bridge thereby requires different information.
In addition to various <em>CaaS</em> information, it expects a <a href="#sp_installation_config_pages">definition of the Shop and FirstSpirit Driven Pages</a>, whose processing is to be enabled in the ContentCreator.</p>
</div>
<div class="paragraph">
<p>Among others, the <em>CaaS</em> information includes the <code>tenant ID</code> and the <code>project ID</code>:
The <code>tenant ID</code> is a unique identifier set by the e-Spirit AG, and defined in the <a href="https://docs.e-spirit.com/module/caas-connect/CaaS_Connect_ServerAdministrator_EN.html#caas-service">configuration dialog of the <em>CaaS</em> service</a>.
The <code>project ID</code> corresponds to the UUID of the FirstSpirit project used.
It is a part of the <em>CaaS</em> URL and in this follows the <code>tenant ID</code>.
In turn, the <em>CaaS</em> URL is visible in the <a href="https://docs.e-spirit.com/module/caas-connect/CaaS_Connect_ServerAdministrator_EN.html#projectapp">configuration dialog of the <em>CaaS</em> Projekt-Komponente</a>.
More information about the scheme of the <em>CaaS</em> URL can be found in the <a href="https://docs.e-spirit.com/module/caas-connect/CaaS_Connect_FSM_Documentation_EN.html#urlschema"><em>CaaS Connect module documentation</em></a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <em>CaaS</em> information required for the configuration is provided with the integration by the e-Spirit AG.
In case of questions the <a href="https://help.e-spirit.com/">Technical Support</a> offers expert support.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For the defined pages, the editable slots and optionally a <a href="#sp_installation_mergestrategies">merge strategy</a> must also be configured.
The merge strategy defines how the contents that are maintained for a slot on both the Commerce Cloud and the FirstSpirit side are merged.
By default, the FirstSpirit content replaces the existing Commerce Cloud content in a slot.</p>
</div>
<div class="paragraph">
<p>The following code block shows the configuration required for the reference project.
It defines various Shop and FirstSpirit Driven Pages for whose processing the configuration is mandatory.</p>
</div>
<div class="listingblock">
<div class="title">Extension of the import array</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-TypeScript hljs" data-lang="TypeScript">import { APPEND, FsSpartacusBridgeModule } from 'fs-spartacus-bridge';
import { FsSpartacusViewComponentsModule } from 'fs-spartacus-view-components';
import { FirstSpiritManagedPage, fromSlotList } from 'fs-spartacus-common';
import { NgModule } from '@angular/core';

@NgModule({
   imports: [
      FsSpartacusViewComponentsModule,
      FsSpartacusBridgeModule.withConfig({
         caas: {
            baseUrl: 'CAAS BASE URL',
            project: 'PROJECT ID',
            apiKey: 'CAAS API KEY',
            tenantId: 'TENANT ID'
         },
         firstSpiritManagedPages: [
            FirstSpiritManagedPage.enhanceSapPages('CartPageTemplate',
               fromSlotList('BottomHeaderSlot', 'PreFooterSlot')),
            FirstSpiritManagedPage.enhanceSapPages('ProductDetailsPageTemplate',
               fromSlotList('BottomHeaderSlot', 'PreFooterSlot')),
            FirstSpiritManagedPage.enhanceSapPages('CategoryPageTemplate',
               fromSlotList('BottomHeaderSlot', 'PreFooterSlot')),
            FirstSpiritManagedPage.enhanceSapPages('ProductListPageTemplate',
               fromSlotList('BottomHeaderSlot', 'PreFooterSlot'))
            FirstSpiritManagedPage.enhanceSapPages('ProductListPageTemplate',
               fromSlotList('BottomHeaderSlot', 'PreFooterSlot')),
            FirstSpiritManagedPage.integrateFsDrivenPagesIntoSapSkeleton(
               'DummyCampaignPageWithHeader',
               PageType.CONTENT_PAGE,
               'campaign_page_with_header',
               fromSlotList('BottomHeaderSlot', 'Section1', 'Section2C', 'Section3', 'PreFooterSlot')),
            FirstSpiritManagedPage.integrateFsDrivenPages(
               'campaign_page_without_header',
               fromSlotList('BottomHeaderSlot', 'NarrowContentSection', 'WideContentSection', 'BottomNarrowSection', 'PreFooterSlot'))
         ]
      })
   ]
})
export class AppModule { }</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="sp_installation_config_pages"><a class="anchor" href="#sp_installation_config_pages"></a>2.2.1. Definition of the Shop and FirstSpirit Driven Pages</h4>
<div class="paragraph">
<p>For the maintenance of editorial content, the integration distinguishes between <a href="#concept_pagestypes">Shop and FirstSpirit Driven Pages</a>.
They differ in the fact that the Shop Driven Pages have a page both in FirstSpirit and in the Commerce Cloud.
In contrast, the FirstSpirit Driven Pages exist exclusively in FirstSpirit.</p>
</div>
<div class="paragraph">
<p>In order to enable the processing of these pages in the ContentCreator, they must be configured in the Bridge.
The configuration differs depending on the page type.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Shop Driven Pages</dt>
<dd>
<p>In the case of Shop Driven Pages, the name of the Commerce Cloud template and the editable slots as well as optionally a <a href="#sp_installation_mergestrategies">merge strategy</a> must be specified in the configuration.
The mapping between the defined Commerce Cloud template and the FirstSpirit template is done in the <a href="#install_pset">project settings</a>.</p>
<div class="listingblock">
<div class="title">Example configuration - Shop Driven Page</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">firstSpiritManagedPages: [
   FirstSpiritManagedPage.enhanceSapPages('StoreFinderPageTemplate', [
      { name: 'BottomHeaderSlot' },
      { name: 'MiddleContent', mergeStrategy: APPEND }
   ])
]</code></pre>
</div>
</div>
</dd>
<dt class="hdlist1">FirstSpirit Driven Pages</dt>
<dd>
<p>FirstSpirit Driven Pages exist exclusively in FirstSpirit and do not have an associated page in the Commerce Cloud.
They can either use the layout of a Shop Driven Page or their own layout, which is defined in the Storefront.
This distinction must also be considered in the configuration:
In the first case, the UID of the Commerce Cloud page to be used, its PageType as well as the FirstSpirit template and the editable slots must be specified.
In the second case, only the FirstSpirit template and the slots need to be specified.
In both cases, the styling of the FirstSpirit Driven Pages is done in Angular, for example, in the <code>styles.scss</code> file of the Storefront.</p>
<div class="listingblock">
<div class="title">Example configuration - FirstSpirit Driven Pages</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">firstSpiritManagedPages: [

   // Case 1: The FirstSpirit Driven Page uses the layout of a Shop Driven Page.
   FirstSpiritManagedPage.integrateFsDrivenPagesIntoSapSkeleton(
      'DummyCampaignPageWithHeader',
      PageType.CONTENT_PAGE,
      'campaign_page_with_header',
      fromSlotList('BottomHeaderSlot', 'Section1', 'Section2C', 'Section3', 'PreFooterSlot')),

   // Case 2: The FirstSpirit Driven Page uses a layout defined in the Storefront.
   FirstSpiritManagedPage.integrateFsDrivenPages(
      'campaign_page_without_header',
      fromSlotList('BottomHeaderSlot', 'NarrowContentSection', 'WideContentSection',
         'BottomNarrowSection', 'PreFooterSlot')
   )
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Commerce Cloud page specified in the first case must correspond to a <a href="#sp_installation_dummy_page">dummy page</a>, which is empty except for the desired layout.
This means that it defines the layout and has, for example, a general header and footer, but does not contain any other content.
Such a page is required for every layout that should be usable by FirstSpirit Driven Pages.
The <a href="https://blogs.sap.com/2020/04/07/create-new-page-in-spartacus/">SAP Blog</a> describes the creation of new pages in Spartacus.</p>
</div>
<div id="b2clayoutconfig" class="paragraph">
<p>In the second case, the FirstSpirit Driven Page does not have a mapping to a Commerce Cloud page and therefore no layout of such a page is assigned to it.
Thus the Storefront does not know which slots exist and in which order they should be output.
To make this information available to the Storefront, the <code>b2cLayoutConfig</code> configuration must be extended as follows.
The shown code snippet represents the configuration for the reference project.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>On the Spartacus side, there exist several general slots, which are output without additional configuration.
Their specification is therefore only required in the bridge`s configuration, but not in the <code>b2cLayoutConfig</code> configuration.
An example for this kind of slots is the <code>BottomHeaderSlot</code> from the previous code snippet.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Extension of the b2cLayoutConfig configuration</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-TypeScript hljs" data-lang="TypeScript">import {b2cLayoutConfig, LayoutConfig} from '@spartacus/storefront';

const config: LayoutConfig = JSON.parse(JSON.stringify(b2cLayoutConfig));
config.layoutSlots.footer['slots'].unshift('PreFooterSlot');

config.layoutSlots.campaign_page_without_header = {
  slots: ['NarrowContentSection', 'WideContentSection', 'BottomNarrowSection']
 };

export const customLayoutConfig = config;</code></pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Requirements on the FirstSpirit side</strong></span></p>
</div>
<div class="paragraph">
<p>Both the Shop and the FirstSpirit Driven Pages require corresponding <a href="#rp_pages">page templates in the FirstSpirit project</a> in which the input components <code>pt_seoUrl</code> and <code>pt_cc_identifier</code> must be configured.
The input component <code>pt_seoUrl</code> enables the definition of an SEO url and must therefore be editable.
In contrast, the input component <code>pt_cc_identifier</code> is a hidden component.
It is filled automatically and ensures the accessibility of the page in the ContentCreator.</p>
</div>
<div class="paragraph">
<p>In addition, it must be ensured that the content areas of the FirstSpirit templates match the configured slots:
For each defined slot, the page template must have a content area with <strong>the same</strong> name.
Otherwise, the editorial content will be ignored by the Storefront and not be output in the live state.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The mapping between the configured slots and the content areas of the FirstSpirit page templates is not case-sensitive.
The names <code>Section1</code> and <code>section1</code> are therefore considered identical and are successfully mapped to each other.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="sp_installation_mergestrategies"><a class="anchor" href="#sp_installation_mergestrategies"></a>2.2.2. Merge strategies</h4>
<div class="paragraph">
<p>With the <em>FirstSpirit Connect</em> integration, the Storefront queries content from both the Commerce Cloud and the respective <em>CaaS</em> instance and links them together before delivery.
Therefore it must be extended by the <a href="#sp_installation_libraries"><code>fs-spartacus-bridge</code> library</a>, which needs to be integrated and configured as described in the previous chapter.
During configuration, a merge strategy can optionally be defined.
This determines how the content that is maintained for a slot on both the Commerce Cloud and the FirstSpirit side is merged.</p>
</div>
<div class="paragraph">
<p>The following options are available:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">REPLACE</dt>
<dd>
<p>The merge strategy <code>REPLACE</code> is the default setting of the bridge and therefore does not need to be specified explicitly.
It causes the content maintained in FirstSpirit to overwrite the Commerce Cloud content contained in a slot.
As a result, only the FirstSpirit content is visible on the corresponding page.</p>
</dd>
<dt class="hdlist1">APPEND</dt>
<dd>
<p>If a page should show both the Commerce Cloud and FirstSpirit content for a slot, it is possible to choose between the merge strategies <code>APPEND</code> and <code>PREPEND</code>.
With the merge strategy <code>APPEND</code> the corresponding page displays the content maintained in FirstSpirit <strong>below</strong> the Commerce Cloud content existing for a slot.</p>
</dd>
<dt class="hdlist1">PREPEND</dt>
<dd>
<p>The <code>PREPEND</code> merge strategy is equivalent to the <code>APPEND</code> option mentioned above.
However, in this case, the page displays the FirstSpirit content for a slot <strong>above</strong> the content coming from the Commerce Cloud.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sp_installation_dummy_page"><a class="anchor" href="#sp_installation_dummy_page"></a>2.3. Creation of a dummy page</h3>
<div class="paragraph">
<p>For the maintenance of editorial content, the integration distinguishes between <a href="#concept_pagestypes">Shop and FirstSpirit Driven Pages</a>.
FirstSpirit Driven Pages can either use their own layout defined in the Storefront or the layout of a Shop Driven Page.</p>
</div>
<div class="paragraph">
<p>In the second case, a dummy page must exist in the Commerce Cloud, which is empty except for the desired layout.
This means that it has, for example, a general header and footer, but does not contain any other content.</p>
</div>
<div class="paragraph">
<p>A dummy page can be created using an ImpEx script.
The script shown in the following code block generates the dummy page for the FirstSpirit Driven Pages included in the reference project.
It is based on the <code>LandingPage2Template</code> and contains only a header and a footer.
The existence of the dummy page is mandatory for using the FirstSpirit Driven Pages.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Further information on how to create new pages in Spartacus is included in the <a href="https://blogs.sap.com/2020/04/07/create-new-page-in-spartacus/">SAP blog</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Unresolved include directive in modules/Spartacus/pages/chapters/sapcc-installation/dummy-page.adoc - include::../../../../includes/dummy-page-impex.adoc[]</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_firstspirit_installation_and_configuration"><a class="anchor" href="#_firstspirit_installation_and_configuration"></a>3. FirstSpirit - Installation and Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Various components must be installed and configured in order to use the functions of the <em>FirstSpirit Connect</em> module.
The following subchapters explain the steps required.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To use the <em>FirstSpirit Connect</em> module, the <em>CaaS Connect</em> module must also be configured.
The steps required to do this are described in the <em><a href="https://docs.e-spirit.com/module/caas-connect/CaaS_Connect_FSM_Documentation_EN.html">CaaS Connect Documentation</a></em>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In addition to the standard groups <code>Everyone</code>, <code>Administrators</code> and <code>Developers</code>, there are three further <strong>external</strong> user groups in the reference project: <code>Editors</code>, <code>ChiefEditors</code> and <code>ProjectAdmins</code>.
These groups possess different rights, which are selected depending on their tasks and defined for the different stores.
Users outside these groups are not authorized to use the reference project by default.</p>
</div>
<div class="paragraph">
<p>If there is a need for additional accounts or groups, their creation must be requested by contacting the <a href="https://help.e-spirit.com/">Technical Support</a>.
For new accounts, the following information is required:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>first and last name</p>
</li>
<li>
<p>e-mail address</p>
</li>
<li>
<p>groups to be assigned</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="fs_installation_pcomp"><a class="anchor" href="#fs_installation_pcomp"></a>3.1. Configuration of the project component</h3>
<div class="paragraph">
<p>A project-specific configuration is required in order to use the <em>FirstSpirit Connect</em> module.
It is set up using the project component, which is already added to the reference project supplied.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To use the <em>FirstSpirit Connect</em> module, the <em>CaaS Connect</em> module must also be configured.
The necessary steps are described in the <em><a href="https://docs.e-spirit.com/module/caas-connect/CaaS_Connect_FSM_Documentation_EN.html">CaaS Connect Documentation</a></em>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The reference project also includes the project component of the <em>CXT ContentCreator Extension</em>.
This contains a predefined configuration, the modification of which can lead to a change in the behavior of the ContentCreator.
An adjustment of the configuration is therefore only to be made after prior consultation with the <a href="https://help.e-spirit.com/">Technical Support</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To perform configuration, open the <code><strong>ServerManager</strong></code> and select <code><strong><span class="menuseq"><b class="menu">Project properties</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Project components</b></span></strong></code>.</p>
</div>
<div id="projectComponents" class="imageblock">
<div class="content">
<img src="_images/images/projectcomponents.png" alt="Project properties - Project components">
</div>
<div class="title">Figure 5. Project properties - Project components</div>
</div>
<div class="paragraph">
<p>A list of all existing project components is displayed in the main panel.
Select the entry <code>FirstSpirit Connect for SAP Commerce Cloud Project Configuration</code> and open the corresponding configuration dialog via <b class="button">Configure</b>.</p>
</div>
<div class="paragraph">
<p>The dialog is organized in five tabs, of which currently only the fields of the tabs <code><strong>General</strong></code>, <code><strong>Product DAP</strong></code> and <code><strong>Category DAP</strong></code> are to be considered.
The following subchapters explain them in detail.
The tabs <code><strong>Preview</strong></code> and <code><strong>Content</strong></code> currently do not have any functionality.</p>
</div>
<div class="sect3">
<h4 id="fs_installation_pcomp_general"><a class="anchor" href="#fs_installation_pcomp_general"></a>3.1.1. General</h4>
<div class="paragraph">
<p>The configuration dialog of the project component first contains the tab <code><strong>General</strong></code>.
The information to be defined in it must be known to the FirstSpirit-Server for a connection to the Commerce Cloud.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/config-general.png" alt="config general">
</div>
<div class="title">Figure 6. Project component - General</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">URI</dt>
<dd>
<p>Within the tab <code><strong>General</strong></code> the URI of the Commerce Cloud instance has to be entered first.
It enables the FirstSpirit-Server to establish a connection to the Commerce Cloud.</p>
</dd>
<dt class="hdlist1">Connection timeout/Connection retries</dt>
<dd>
<p>Using the two fields <code>Connection timeout</code> and <code>Connection retries</code> the time span (in seconds) and the number of attempts can be defined,
which the FirstSpirit-Server uses to establish a connection to the Commerce Cloud.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The FirstSpirit-Server requires <a href="#cc_installation_oauth">OAuth authentication</a> to retrieve information from the Commerce Cloud.
The required authentication data must be entered in the following fields of the <code><strong>General</strong></code> tab.
The other tabs enable the overwriting of this information and therefore have the same fields.
The overwriting is done by activating the checkbox <code>Override general OAuth settings</code> in one of the other tabs.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="pcomp_oauth" class="dlist">
<dl>
<dt class="hdlist1">Auth Server URI</dt>
<dd>
<p>To connect to the Commerce Cloud, the FirstSpirit-Server requires the specification of the default endpoint for OAuth authentication.
The URI of this endpoint must be entered relatively to the URI of the Commerce Cloud instance.</p>
</dd>
<dt class="hdlist1">Username/Password</dt>
<dd>
<p>The access data with which the authentication is carried out must be entered in the fields <code>Username</code> and <code>Password</code>.
Usually this is the data of a technical Commerce Cloud account.</p>
</dd>
<dt class="hdlist1">OAuth Client ID</dt>
<dd>
<p>This field is used to enter the default client ID used for authentication.
It is created during the configuration of the <a href="#cc_installation_oauth">OAuth Client</a> and defines the access rights of the technical account.</p>
</dd>
<dt class="hdlist1">OAuth Client Secret</dt>
<dd>
<p>In addition to the <code>Client ID</code>, the specification of the associated <code>Client Secret</code> is expected at this point.</p>
</dd>
<dt class="hdlist1">OAuth Grant Type</dt>
<dd>
<p>In addition to the <code>Client ID</code> and <code>Client Secret</code>, OAuth authentication requires a <code>Grant Type</code>.
Therefore the combo box offers two options: <code>password</code> and <code>client credentials</code>.</p>
</dd>
<dt class="hdlist1">Test OAuth settings</dt>
<dd>
<p>By clicking on this button the connection to the Commerce Cloud can be tested.
If overriding the OAuth authentication was activated in one of the other tabs, the settings stored in it will be taken into account.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="fs_installation_pcomp_product_dap"><a class="anchor" href="#fs_installation_pcomp_product_dap"></a>3.1.2. Product DAP</h4>
<div class="paragraph">
<p>In addition to the tab <a href="#fs_installation_pcomp_general"><code><strong>General</strong></code></a>, the configuration dialog of the project component has the tabs <code><strong>Product DAP</strong></code> and <a href="#fs_installation_pcomp_category_dap"><code><strong>Category DAP</strong></code></a>.
They are used to configure the reports in the ContentCreator, which require various information.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/config-product-dap.png" alt="config product dap">
</div>
<div class="title">Figure 7. Project component - Product DAP</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Collection</dt>
<dd>
<p>The product report in the ContentCreator lists the products originating from the Commerce Cloud and enables editors to use these products.
The products can be queried via a REST endpoint, which must be known by the ContentCreator.
It therefore has to be specified in this field.</p>
</dd>
<dt class="hdlist1">PDP URL</dt>
<dd>
<p>The relative URL of a product detail page must be entered in this field.
As a placeholder for the product code the expression <code>{code}</code> can be used.
The default value is <code>p/{code}</code>.</p>
</dd>
<dt class="hdlist1">Header/Extract/Icon/Thumbnail</dt>
<dd>
<p>By default, <a href="https://docs.e-spirit.com/odfs/template-develo/snippets/index.html">search results in the product report</a> show the product name in the header, the catalogue ID in the extract, and a thumbnail.
The fields <code>Header</code>, <code>Extract</code>, <code>Icon</code>, and <code>Thumbnail</code> allow the configuration of this information.
For this purpose the following placeholders are available in addition to simple text entries:</p>
<div class="ulist">
<ul>
<li>
<p><code>${catalogId}</code></p>
</li>
<li>
<p><code>${catalogVersion}</code></p>
</li>
<li>
<p><code>${code}</code></p>
</li>
<li>
<p><code>${description}</code></p>
</li>
<li>
<p><code>${name}</code></p>
</li>
<li>
<p><code>${thumbnailMediaUrl}</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p>The entries in the fields replace the standard information in the search results of the product report.
Textual entries are adopted unchanged.
If the fields remain empty, the search results display the standard information.</p>
</dd>
<dt class="hdlist1">Override general OAuth settings</dt>
<dd>
<p>The fields for OAuth authentication enable the overwriting of the entries in the tab <code><strong>General</strong></code>.
The overwriting is done by activating the checkbox <code>Override general OAuth settings</code>.
Otherwise, the entries from the <code><strong>General</strong></code> tab will be used for authentication.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="fs_installation_pcomp_category_dap"><a class="anchor" href="#fs_installation_pcomp_category_dap"></a>3.1.3. Category DAP</h4>
<div class="paragraph">
<p>The tab <code><strong>Category DAP</strong></code> is equivalent to the tab <a href="#fs_installation_pcomp_product_dap"><code><strong>Product DAP</strong></code></a> and is used to configure the category report in the ContentCreator.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/config-category-dap.png" alt="config category dap">
</div>
<div class="title">Figure 8. Project component - Category DAP</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Catalog</dt>
<dd>
<p>The category report in the ContentCreator contains the categories from the Commerce Cloud and makes them available to the editors.
For this purpose, the corresponding catalog ID must be entered here.</p>
</dd>
<dt class="hdlist1">Catalog Version</dt>
<dd>
<p>The categories provided in the ContentCreator originate from a product catalog.
Therefore, in addition to the catalog ID, the version of the product catalog from which the categories are obtained must also be specified.</p>
</dd>
<dt class="hdlist1">CDP URL</dt>
<dd>
<p>The relative URL of a category detail page must be entered in this field.
As a placeholder for the category code the expression <code>{code}</code> can be used.
The default value is <code>c/{code}</code>.</p>
</dd>
<dt class="hdlist1">Override general OAuth settings</dt>
<dd>
<p>The fields for OAuth authentication enable the overwriting of the entries in the tab <code><strong>General</strong></code>.
The overwriting is done by activating the checkbox <code>Override general OAuth settings</code>.
Otherwise, the entries from the <code><strong>General</strong></code> tab will be used for authentication.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fs_installation_wcomp"><a class="anchor" href="#fs_installation_wcomp"></a>3.2. Adding the web components</h3>
<div class="paragraph">
<p>For the ContentCreator, a web component is needed, which is already added to the reference project.
By default it is installed globally in the <code><strong>ServerManager</strong></code> in the area <code><strong><span class="menuseq"><b class="menu">Server Properties</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Web applications</b></span></strong></code>.
In this case, all installation or configuration steps required for the web component have already been performed by the e-Spirit AG.</p>
</div>
<div class="paragraph">
<p>Alternatively, you may install the web component in the <code><strong>Project properties</strong></code>.
<strong>Only in this case</strong> it still needs to be installed on an active web server.
Therefore, open the <code><strong>ServerManager</strong></code> and select <code><strong><span class="menuseq"><b class="menu">Project properties</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Web components</b></span></strong></code>.</p>
</div>
<div id="webcomponents" class="imageblock">
<div class="content">
<img src="_images/images/webcomponents.png" alt="webcomponents">
</div>
<div class="title">Figure 9. Web components in the Project properties</div>
</div>
<div class="paragraph">
<p>Within the main panel several tabs are visible, each with a list of the existing web components.
This list contains the following entries for the <code><strong>ContentCreator</strong></code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BasicWorkflows_ContentCreator_Library</code> (only required when using the <em>BasicWorkflows</em>)</p>
</li>
<li>
<p><code>CXT ContentCreator Extension: WebApp for ContentCreator</code></p>
</li>
<li>
<p><code>FirstSpirit Connect for SAP Commerce Cloud Web App</code></p>
</li>
<li>
<p><code>FirstSpirit ThirdPartyPreview WebApp</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the tab, select a web server via the selection box and start the installation by clicking the <b class="button">Install</b> button.
After successful installation, a dialog opens, in which the activation of the web server is to be confirmed.</p>
</div>
<div class="paragraph">
<p>For detailed information about adding web components, see the <em><a href="https://docs.e-spirit.com/odfs/edocs/admi/introduction/index.html">FirstSpirit Manual for Administrators</a></em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="fs_previewurl"><a class="anchor" href="#fs_previewurl"></a>3.3. Definition of the external preview URL</h3>
<div class="paragraph">
<p>By using the <em>Omnichannel Manager</em>, the ContentCreator displays external content from the Commerce Cloud to which the <em>Omnichannel Manager</em> needs access.
The preview URL of the Storefront must therefore be specified in the ContentCreator properties.
Since the specification is always project-specific, there is no default configuration for it within the reference project.</p>
</div>
<div class="paragraph">
<p>Open the <code><strong><span class="menuseq"><b class="menu">Project properties</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">ContentCreator</b></span></strong></code> area within the <code><strong>ServerManager</strong></code> and enter the URL of the Storefront in the <code>External preview URL</code> field.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/previewurl.png" alt="previewurl">
</div>
<div class="title">Figure 10. External Preview URL</div>
</div>
</div>
<div class="sect2">
<h3 id="install_workflow"><a class="anchor" href="#install_workflow"></a>3.4. Workflows</h3>
<div class="paragraph">
<p>Content is released and deleted by editors within the supplied reference project <em>FirstSpirit Connect Reference Project</em> via the <em>BasicWorkflows</em>.
They are already added to the project and can be used as an alternative to project-specific workflows.</p>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Installation of the BasicWorkflows module</strong></span></p>
</div>
<div class="paragraph">
<p>Before using the workflows, the <em>BasicWorkflows</em> module must first be installed on the FirstSpirit server and the web component must be activated.
The necessary steps are the same as the installation of the other modules and activation of the corresponding <a href="#fs_installation_wcomp">web component</a>.
The web component of the <em>BasicWorkflows</em> is also required in the <code><strong>ContentCreator</strong></code> tab.</p>
</div>
<div class="paragraph">
<p>The use of <em>BasicWorkflows</em> in ContentCreator also requires the selection of the provided <code>BasicWorkflows Status Provider</code> in the <code><strong><span class="menuseq"><b class="menu">Project properties</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">ContentCreator</b></span></strong></code> area within the <code><strong>ServerManager</strong></code>.
This setting has already been made in the reference project <em>FirstSpirit Connect Reference Project</em>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/statusprovider.png" alt="statusprovider">
</div>
<div class="title">Figure 11. Element Status Provider</div>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Templates</strong></span></p>
</div>
<div class="paragraph">
<p>The <em>BasicWorkflows</em> need different templates.
These usually have to be imported into the FirstSpirit project via the context menu.
However, they are already included in the reference project and an import of the templates is therefore not necessary.</p>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Permission assignment</strong></span></p>
</div>
<div class="paragraph">
<p>In the final step, the release workflow must be allowed in each store to run on FirstSpirit elements.
To do this, you can open the permission assignment on the root nodes of the stores via the context menu entry <code><strong><span class="menuseq"><b class="menu">Extras</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Change Permissions</b></span></strong></code>.
This step has already been performed in the reference project and is therefore omitted.</p>
</div>
<div class="paragraph">
<p>The rights set on the stores' root nodes to execute the workflows refer to the <code>Everyone</code> group.
If this is not desired, the rights must be adjusted manually.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>More information about the installation, configuration and functionality of the workflows can be found in the <em><a href="https://docs.e-spirit.com/module/basicworkflows/BasicWorkflows_Documentation_EN.html">BasicWorkflows Documentation</a></em>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="install_translation_studio"><a class="anchor" href="#install_translation_studio"></a>3.5. TranslationStudio</h3>
<div class="paragraph">
<p>Translation of editorial content is often done in cooperation with external translation agencies or with the help of translation services.
The integration therefore supports <a href="https://docs.e-spirit.com/cloud/translationstudio/TranslationStudio_Whitepaper_EN.html"><em>TranslationStudio</em></a>, which allows the export of content to be translated into a target system and to reimport translations into the FirstSpirit project.
By default, the <em>TranslationStudio</em> module is installed within the cloud environment of the e-Spirit AG, so its functionalities can be activated on demand by performing a few steps.</p>
</div>
<div class="paragraph">
<p>In addition to the module installation, the use of <em>TranslationStudio</em> requires the installation of the <em>TranslationStudio</em> application as well as the web and project component.
Furthermore, various actions within the FirstSpirit project are needed.
Both the application setup and all further steps to be performed are described in the <a href="https://docs.e-spirit.com/cloud/translationstudio/TranslationStudio_Installation_Manual_EN.html"><em>TranslationStudio Installation Manual</em></a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The installation of the project component replaces the button of the translation function provided by FirstSpirit in the ContentCreator.
This button only has functionality if all other configuration steps have been completed successfully.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="install_pset"><a class="anchor" href="#install_pset"></a>3.6. Project settings</h3>
<div class="paragraph">
<p>The installation on the Commerce Cloud side includes the integration of the <a href="#sp_installation_libraries">library <code>fs-spartacus-bridge</code></a>.
In addition to various <em>CaaS</em> information, this library expects a definition of the Commerce Cloud templates, whose processing is to be enabled in the ContentCreator.</p>
</div>
<div class="paragraph">
<p>For each Shop Driven Page specified in the bridge configuration, a page must exist within FirstSpirit and within the Commerce Cloud.
The mapping between the FirstSpirit page template and the Commerce Cloud template is done via the project settings form.</p>
</div>
<div class="paragraph">
<p>For each Commerce Cloud template, the project settings contain an input component in which the corresponding page template is referenced.
Furthermore, a content folder is selected for content, product, and category pages.
These folders define the destination where the pages created based on the page templates are stored.
The site store contains folders with the same names in which the corresponding page references are stored.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All reference names of the input components contained in the project settings use the following scheme:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ps_template_&lt;Name of the Commerce Cloud Template&gt;</code> or</p>
</li>
<li>
<p><code>ps_folder_&lt;Commerce Cloud Page Type&gt;</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When extending the project settings, this schema must be adopted for the reference names of new input components.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/project_set.png" alt="project set">
</div>
<div class="title">Figure 12. Project settings - Mapping for product pages</div>
</div>
</div>
<div class="sect2">
<h3 id="install_schedule"><a class="anchor" href="#install_schedule"></a>3.7. Deployment schedules</h3>
<div class="paragraph">
<p>With <em>CaaS Connect</em> the publication of editorial content as well as updating the <em>Online CaaS</em> takes place with each release.
An additional deployment process is not necessary in this case.</p>
</div>
<div class="paragraph">
<p>However, during the progress of the project, situations may arise that require a deployment.
Therefore, the <em>CaaS Connect</em> module provides two schedules that are automatically added to the project.
They do not require any project-specific customization.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="referenceproject"><a class="anchor" href="#referenceproject"></a>4. Reference project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>FirstSpirit Connect</em> module provides different ways to access shop content from Spartacus and use it in FirstSpirit.
This requires different components both within the FirstSpirit project and on the Spartacus side.
These components and the dependencies between them are described in the following subchapters using the reference project provided.</p>
</div>
<div class="sect2">
<h3 id="rp_pages"><a class="anchor" href="#rp_pages"></a>4.1. Pages</h3>
<div class="paragraph">
<p>In contrast to the delivery of content, its creation and maintenance shifts from the Commerce Cloud to FirstSpirit.
Therefore FirstSpirit provides the ContentCreator.
In it, <a href="#concept_pagestypes">Shop and FirstSpirit Driven Pages</a> can be displayed and enriched with editorial content using the <a href="https://docs.e-spirit.com/tpp/index.html.en"><em>Omnichannel Manager</em></a>.</p>
</div>
<div class="paragraph">
<p>Editorial content in FirstSpirit is always created and edited on the basis of a page reference.
It and the page on which it is based are automatically generated in the background in the provided reference project as soon as a new page is created in the ContentCreator.
The script <code>page_type_mapping</code> determines the corresponding FirstSpirit page template which must be included in the project.</p>
</div>
<div class="paragraph">
<p>The reference project provides the following page templates for content, product, and category pages that correspond to the Shop Driven Pages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>cartpagetemplate</code></p>
</li>
<li>
<p><code>contentpage1</code></p>
</li>
<li>
<p><code>landingpage2</code></p>
</li>
<li>
<p><code>searchresultslistpage</code></p>
</li>
<li>
<p><code>storefinderpage</code></p>
</li>
<li>
<p><code>product_detail_page</code></p>
</li>
<li>
<p><code>category_page</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The page templates for the Shop Driven Pages map the respective Commerce Cloud page templates and differ only in the number of their content areas.
Each of these content areas allows the integration of different sections, which are used to create and persist the editorial content.
The mapping between the Commerce Cloud templates and the FirstSpirit page templates for the Shop Driven Pages is done in the <a href="#install_pset">project settings</a> as described in the installation chapter.
Since FirstSpirit Driven Pages have no associated page in the Commerce Cloud, no mapping is required for them.</p>
</div>
<div class="paragraph">
<p>For the Shop as well as for the FirstSpirit Driven Pages it must be ensured that the content areas of the FirstSpirit templates match the <a href="#sp_installation_config_pages">slots</a> configured in the bridge:
For each defined slot, the page template must have a content area with <strong>the same</strong> name.
Otherwise, the editorial content will be ignored by the Storefront and not be output in the live state.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The mapping between the configured slots and the content areas of the FirstSpirit page templates is not case-sensitive.
The names <code>Section1</code> and <code>section1</code> are therefore considered identical and are successfully mapped to each other.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="rp_pages_inputcomponents" class="paragraph">
<p>In addition, all page templates must have the input components <code>pt_seoUrl</code> and <code>pt_cc_identifier</code>.
The language-dependent text input component <code>pt_seoUrl</code> enables the definition of an SEO url and must therefore be editable.
In contrast, the language-independent text input component <code>pt_cc_identifier</code> is a hidden component.
It is filled automatically and ensures the accessibility of the page in the ContentCreator.</p>
</div>
<div class="paragraph">
<p>The following code snippet shows the definition of the two input components:</p>
</div>
<div class="listingblock">
<div class="title">Input components pt_seoUrl und pt_cc_identifier</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-XML hljs" data-lang="XML">&lt;CMS_INPUT_TEXT name="pt_seoUrl" hFill="yes" useLanguages="yes"&gt;
  &lt;LANGINFOS&gt;
    &lt;LANGINFO lang="*" label="SEO URL"/&gt;
  &lt;/LANGINFOS&gt;
&lt;/CMS_INPUT_TEXT&gt;

&lt;CMS_INPUT_TEXT name="pt_cc_identifier" hFill="yes" hidden="yes" useLanguages="no"&gt;
  &lt;LANGINFOS&gt;
    &lt;LANGINFO lang="*" label="Commerce Cloud Identifier"/&gt;
  &lt;/LANGINFOS&gt;
&lt;/CMS_INPUT_TEXT&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="rp_sections"><a class="anchor" href="#rp_sections"></a>4.2. Sections</h3>
<div class="paragraph">
<p>Within the reference project <em>FirstSpirit Connect Reference Project</em> included in the delivery, the content areas of a FirstSpirit page template represent the slots of a Commerce Cloud page.
Sections can be added to them; each one corresponds to a content module.</p>
</div>
<div class="paragraph">
<p>For this purpose, the reference project provides the following sections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Teaser</p>
</li>
<li>
<p>Carousel</p>
</li>
<li>
<p>Multi Slot Container</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Teaser</dt>
<dd>
<p>The teaser corresponds to a single image in horizontal format, which is by default included in the header of a page.
On this image another image and a text can be placed.</p>
<div class="paragraph">
<p>In addition to the selection of the image and the two overlay options, the section allows the specification of a <a href="#rp_links">link</a> and an alt text.
All link types available in the reference project are permitted for linking the image.</p>
</div>
</dd>
<dt class="hdlist1">Carousel</dt>
<dd>
<p>The carousel is equivalent to the teaser.
In contrast to the latter, it embeds several images which, depending on the configuration, rotate continuously or can be clicked through individually.</p>
<div class="paragraph">
<p>The individual images of the carousel each correspond to a teaser.
For these, the carousel therefore has the same functions.
Furthermore, the section enables the de-/activation of the automatic image scrolling and the definition of the image display duration in seconds.</p>
</div>
</dd>
<dt class="hdlist1">Multi Slot Container</dt>
<dd>
<p>The Multi Slot Container is a layout component that in addition to entering a headline allows the automatic arrangement of content, category or product elements.
The arrangement of the elements depends on their number:
Up to a number of four elements, they are displayed side by side and scaled accordingly.
Additional elements are combined in groups of also up to four elements and displayed in further lines below.</p>
<div class="paragraph">
<p>The templates of all three elements allow entering a headline, a subtitle, and a teaser text as well as selecting an image for which an alternative text can be specified.
Furthermore, the display of each element contains a button whose caption can be defined freely and which refers to the detailed view of the respective element.
This button is only visible if the Multi Slot Container contains just a single element.</p>
</div>
<div class="paragraph">
<p>In addition to the input options mentioned above the content element allows the definition of a <a href="#rp_links">link</a>.
For this, also in this case, all link types available in the reference project are permitted.</p>
</div>
<div class="paragraph">
<p>Along with the mentioned input components the category element contains a component for selecting a category.
If no image is selected for a category the category element displays a default image.</p>
</div>
<div class="paragraph">
<p>In contrast to the category element the information for the product element comes from the Commerce Cloud by default.
They serve as a fallback and are overwritten by the content in the mentioned components.</p>
</div>
</dd>
<dt class="hdlist1">Location Overview</dt>
<dd>
<p>This section allows the input of a user-defined headline and the selection of any number of locations, each of which contains various address data.
Each of these locations corresponds to a dataset stored in the datasource <em>locations</em>.
The selected datasets are displayed as two-lined adresses in the form of an overview below the specified headline.</p>
</dd>
</dl>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="rp_links"><a class="anchor" href="#rp_links"></a>4.3. Links</h3>
<div class="paragraph">
<p>The editorial contents maintained in FirstSpirit can contain the following references, which link them with other contents.
They are based on various link templates that are already included in the reference project.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Category and product links</dt>
<dd>
<p>The <em>FirstSpirit Connect</em> module provides a report for products and categories in the ContentCreator.
They serve to display the category and product information coming from Spartacus, which can be used for links to category or product detail pages.</p>
<div class="paragraph">
<p>Therefore, the reference project contains the link templates <code>category_link</code> and <code>product_link</code>, which correspond to a category or product link.
They enable category or product detail pages to be referenced and are equivalent to each other.</p>
</div>
</dd>
<dt class="hdlist1">Search link</dt>
<dd>
<p>The reference project contains the link template <code>search_link</code>.
It enables the linking of a search result page to a defined search term.</p>
</dd>
<dt class="hdlist1">Content link</dt>
<dd>
<p>The reference project provides the link template <code>content_link</code>.
It allows the linking of pages that are maintained within the reference project.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The front-end processing of the links is done using the <code>SemanticPathService</code>.
It generates the required URLs based on the <em>CaaS</em> data passed to it.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="use_cases"><a class="anchor" href="#use_cases"></a>5. Use cases</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Within the progress of a project, different situations can arise that require certain steps to be taken.
The following subchapters describe situations that can typically occur in integration projects,
and describe the necessary steps for resolving them by using the reference project supplied as a reference.</p>
</div>
<div class="sect2">
<h3 id="uc_contentmodule"><a class="anchor" href="#uc_contentmodule"></a>5.1. Development of a new content module</h3>
<div class="paragraph">
<p>Within the overall system created with the <em>FirstSpirit Connect</em> integration, the Spartacus Storefront delivers the editorial content.
However, the creation and maintenance of this content shifts from the Commerce Cloud to FirstSpirit.
For this reason, the provided reference project <em>FirstSpirit Connect Reference Project</em> contains the following section templates:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>teaser</code></p>
</li>
<li>
<p><code>carousel</code></p>
</li>
<li>
<p><code>multi_slot_container</code></p>
</li>
<li>
<p><code>location_overview</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each of these section templates requires an Angular UI component on the Spartacus side.
The UI components receive the contents to be displayed and define their output in the shop.</p>
</div>
<div class="paragraph">
<p>In addition to the creation of a further section template in the FirstSpirit project,
the development of a new content module therefore always includes the implementation of an associated Angular UI component in the frontend.
In detail, the following steps are required, which will be explained in more detail in the course of the chapter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Creation of a section template including maintenance of contents</p>
</li>
<li>
<p>Import and configuration of the DataVisualizer</p>
</li>
<li>
<p>Creation of a converter</p>
</li>
<li>
<p>Implementation of the Angular UI component</p>
</li>
<li>
<p>Extension of the Storefront</p>
</li>
</ul>
</div>
<div id="create_section" class="dlist">
<dl>
<dt class="hdlist1">Creation of a section template</dt>
<dd>
<p>The development of a new content module first requires the creation of a new section template within the SiteArchitect.
The template must then be integrated into a page and filled with content in all available languages.
By saving these contents, they are automatically transferred to the <em>Preview CaaS</em> and are thus available in the preview.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In the steps below, the reference name of the new section template has to be specified at various positions.
These positions are all marked by the placeholder <code>&lt;SECTION_REF_NAME&gt;</code>.
The placeholder must be replaced by the reference name in all cases.</p>
</div>
<div class="paragraph">
<p>The same applies to an input component contained in the section, which is named <code>st_input_component</code> in the following steps.</p>
</div>
</td>
</tr>
</table>
</div>
</dd>
</dl>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Import and configuration of the DataVisualizer</dt>
<dd>
<p>The <code>fs-spartacus-view-components</code> library contains, among other things, the <code>DataVisualizer</code>, which enables an unprocessed output of the JSON structure stored in the <em>CaaS</em> in the ContentCreator.
Therefore the DataVisualizer requires an import into the main module of the Spartacus application (<code>app.module.ts</code>)
as well as the configuration as a display component for the previously created section template.
In addition, the import of the ConfigModule is necessary to provide all features.</p>
<div class="listingblock">
<div class="title">Import of the ConfigModul</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">import { ConfigModule } from '@spartacus/core';</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following code snippet shows the necessary adjustments in the main module.
The placeholder <code>&lt;SECTION_REF_NAME&gt;</code> must be replaced by the <strong>reference name</strong> of the <a href="#create_section">section template</a> created in the first step.</p>
</div>
<div class="listingblock">
<div class="title">Import and configuration of the DataVisualizer</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">import { ConfigModule } from '@spartacus/core';
import { DataVisualizerComponent } from 'fs-spartacus-view-components';

[...]

@NgModule({
   imports: [
      ConfigModule.withConfig({
         cmsComponents: {&lt;SECTION_REF_NAME&gt;: {component: DataVisualizerComponent}}
      })
   ]
})
export class AppModule { }</code></pre>
</div>
</div>
<div class="paragraph">
<p>After the integration of the <code>DataVisualizer</code>, the page containing the new section shows its associated <em>CaaS</em> information in the preview of the ContentCreator.
With the button <b class="button">COPY TO CLIPBOARD</b> the displayed data can also be copied to the clipboard.
They are required for the subsequent creation of the <a href="#create_converter">converter</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The parameters <code>uid</code> and <code>typeCode</code> contained in the displayed data are assumed by the Storefront.
They must therefore be included in the return value of the <a href="#create_converter">converter</a> to be created subsequently.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/datavisualizer.png" alt="datavisualizer">
</div>
<div class="title">Figure 13. Data Visualizer</div>
</div>
<div class="paragraph">
<p><strong>Example</strong><br>
In the case of a section, for example, which only contains a <code>CMS_INPUT_TEXT</code> input component for a headline (<code>st_headline</code>), the output of the <code>DataVisualizer</code> corresponds to the following code snippet:</p>
</div>
<div id="caas_document" class="listingblock">
<div class="title">Output of the DataVisualizer</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-JSON hljs" data-lang="JSON">{  "uid": "headline",
   "typeCode": "headline",
   "otherProperties": {
      "formData": {
         "st_headline": {
            "fsType": "CMS_INPUT_TEXT",
            "name": "st_headline",
            "value": "Only this week: 20% discount"
         }
      },
      "previewId": "b547b345-6077-4574-97b1-308ebcc2e58d.en_GB"
   }
}</code></pre>
</div>
</div>
</dd>
</dl>
</div>
<div id="create_converter" class="dlist">
<dl>
<dt class="hdlist1">Creation of a converter</dt>
<dd>
<p>The data stored in the <em>CaaS</em> for the new section is very complex and also contains information that is not needed for the output in the shop.
For this reason, it is recommended to add an additional transformation step before transferring the data to the Angular UI component.
The transformation of the information into a format that is optimal for the component is performed by a converter.
This must contain the following code and is to be be saved under the name <code>&lt;SECTION_REF_NAME&gt;.component.converter.ts</code> at any position in the Spartacus project.
Thereby the placeholder <code>&lt;SECTION_REF_NAME&gt;</code> corresponds to the reference name of the previously created <a href="#create_section">section template</a>.</p>
<div class="listingblock">
<div class="title">Converter</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">import { Injectable, InjectionToken } from '@angular/core';
import { Converter, CmsComponent } from '@spartacus/core';

@Injectable({ providedIn: 'root' }) <i class="conum" data-value="1"></i><b>(1)</b>
export class NewSectionComponentConverter implements Converter&lt;CmsComponent, CmsComponent&gt; { <i class="conum" data-value="2"></i><b>(2)</b>
   public convert(source: CmsComponent): CmsComponent { <i class="conum" data-value="3"></i><b>(3)</b>
      return {
         uid: source.uid,
         typeCode: source.typeCode,
         previewId: source.otherProperties.previewId,
         value: source.otherProperties.formData.st_input_component.value <i class="conum" data-value="4"></i><b>(4)</b>
      } as CmsComponent;
   }
}

export const NewSectionConverterToken = new InjectionToken&lt;Converter&lt;CmsComponent,CmsComponent&gt;&gt;('NewSectionConverter'); <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The Injectable annotation creates a new Angular service.
This allows the later <a href="#storefront_extension">injection</a> of the new converter into the bridge.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The new class <code>NewSectionComponentConverter</code> implements the converter interface provided by Spartacus, which expects the method <code>convert</code>.
Each time the section for which the converter is registered is processed, this method is called automatically.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Using the <code>source</code> parameter, the <code>convert</code> method gets all the information available for the section from the <em>CaaS</em>.
The return value of the method allows the filtering of this data and defines which parameters are transferred to the Angular UI component.<br>
The parameters <code>uid</code> and <code>typeCode</code> are assumed by the Storefront and are therefore mandatory.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The structure of the associated values is derived from the <a href="#caas_document"><em>CaaS</em> document</a> and must be adjusted accordingly, especially for the form data to be passed.
The displayed line refers to a simple <code>CMS_INPUT_TEXT</code> input component.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The <code>NewSectionConverterToken</code> created here enables the later <a href="#storefront_extension">registration</a> of the <code>NewSectionComponentConverter</code> in the main module of the Spartacus application (<code>app.module.ts</code>).</td>
</tr>
</table>
</div>
</dd>
</dl>
</div>
<div id="create_ui_component" class="dlist">
<dl>
<dt class="hdlist1">Implementation of the Angular UI component</dt>
<dd>
<p>The data format defined with the help of the <a href="#create_converter">converter</a> enables the <a href="https://angular.io/cli/generate">implementation of the Angular UI component</a>,
which must be saved under the name <code>&lt;SECTION_REF_NAME&gt;.component.ts</code> at any position in the Spartacus project.</p>
<div class="paragraph">
<p>The following code snippet shows an example of the content of the component:</p>
</div>
<div class="listingblock">
<div class="title">Angular UI component</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">import { CmsComponent } from '@spartacus/core';
import { CmsComponentData } from '@spartacus/storefront';
import { Component } from '@angular/core';

@Component({ <i class="conum" data-value="1"></i><b>(1)</b>
   template: <i class="conum" data-value="2"></i><b>(2)</b>
      `&lt;ng-container *ngIf="(componentData?.data$) | async as convertedData"&gt;
         &lt;h1 [attr.data-preview-id]="convertedData.previewId"&gt;{{convertedData.value}}&lt;/h1&gt; <i class="conum" data-value="3"></i><b>(3)</b>
      &lt;/ng-container&gt;`,
})

export class NewSectionComponent { <i class="conum" data-value="4"></i><b>(4)</b>
   constructor(public componentData: CmsComponentData&lt;CmsComponent&gt;) { }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The new Angular UI component is created using the Component annotation.
The annotation enables the later <a href="#storefront_extension">injection</a> of the component into the bridge.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>template</code> property defines the HTML output of the transferred data within the shop, which has to be adapted to the component to be created on a project-specific basis.
The output is done via a container element (<code>ng-container</code>), which is only displayed in the case of existing data.
If data exists, it is transferred asynchronously to the content module using the variable <code>convertedData</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>In this example, the component only outputs a headline.
Therefore it uses the <code>value</code> parameter defined in the <a href="#create_converter">converter</a>, which contains the corresponding form data of the initially created <a href="#create_section">section</a>.
It also includes the attribute <code>data-preview-id</code>, which contains the <code>previewId</code> passed by the converter as a value and allows editing of the headline in the ContentCreator.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>At this point, the new Angular UI component is created.
It receives the data returned by the <a href="#create_converter">converter</a> as constructor parameters.</td>
</tr>
</table>
</div>
</dd>
</dl>
</div>
<div id="storefront_extension" class="dlist">
<dl>
<dt class="hdlist1">Extension of the Storefront</dt>
<dd>
<p>The output of the <a href="#create_section">section</a> created in the first step assumes the integration of the implemented <a href="#create_ui_component">Angular UI component</a>
and the registration of the new <a href="#create_converter">converter</a> in the Storefront.
This requires the following extension of the main module of the Spartacus application (<code>app.module.ts</code>):</p>
<div class="listingblock">
<div class="title">Extension of the main module</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">import { NewSectionComponent } from './&lt;SECTION_REF_NAME&gt;.component';
import { NewSectionConverterToken, NewSectionComponentConverter } from './&lt;SECTION_REF_NAME&gt;.component.converter';
import { FsComponentConverter } from 'fs-spartacus-common';

@NgModule({
   declarations: [NewSectionComponent], <i class="conum" data-value="1"></i><b>(1)</b>
   imports: [
      ConfigModule.withConfig({
         cmsComponents: {&lt;SECTION_REF_NAME&gt;: { component: NewSectionComponent }} <i class="conum" data-value="2"></i><b>(2)</b>
      })
   ],
   providers: [
      {  provide: NewSectionConverterToken, <i class="conum" data-value="3"></i><b>(3)</b>
         useClass: NewSectionComponentConverter,
         multi: true
      },
      {  provide: FsComponentConverter, <i class="conum" data-value="4"></i><b>(4)</b>
         useValue: {
            &lt;SECTION_REF_NAME&gt;: NewSectionConverterToken
         },
         multi: true <i class="conum" data-value="5"></i><b>(5)</b>
      }
   ],
   entryComponents: [NewSectionComponent] <i class="conum" data-value="6"></i><b>(6)</b>
})
export class AppModule { }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Within the main module a declaration of the new component is first made to include it in the Spartacus project.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>imports' attribute links the <a href="#create_section">section template</a> created in the first step to the component, instructing Spartacus to always use this link when processing the section.
The placeholder `&lt;SECTION_REF_NAME&gt;</code> must be replaced with the reference name of the new section template.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The converter is registered in two steps using the <code>providers</code> attribute:<br>
The first <code>provide</code> entry declares the converter as an Angular service in the Storefront.
It causes the Storefront to automatically create an instance of the converter at runtime each time the <code>NewSectionConverterToken</code> is used.<br>
For a registration of further converters belonging to other sections, this entry has to be duplicated and adjusted accordingly.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The second <code>provide</code> entry introduces the converter to the bridge
by using the <code>useValue</code> parameter to create a link between the newly created <a href="#create_section">section</a> and the token of the <a href="#create_converter">converter</a>.
The bridge therefore accesses the token each time the section is processed, which in turn triggers the creation of a new instance of the converter.
Also in this case, the placeholder <code>&lt;SECTION_REF_NAME&gt;</code> must be replaced by the reference name of the new section template.<br>
The values of the <code>useValue</code> parameter are unlimited in their number and correspond to a key/value pair in each case.
If further converters belonging to other sections should be introduced to the bridge, the corresponding key/value pairs can be added separated by commas:<br>
Example: <code>useValue: { headline: HeadlineConverterToken, carousel: CarouselConverterToken }</code><br></td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>In both cases, the <code>multi</code> parameter prevents previous declarations from being overwritten at runtime.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>The entry <code>entryComponents</code> informs the Offline Template Compiler (OTC) of Angular that the component can be generated at runtime.</td>
</tr>
</table>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="uc_datasets"><a class="anchor" href="#uc_datasets"></a>5.2. Dataset usage</h3>
<div class="paragraph">
<p>On the Spartacus side, the output of the content maintained in FirstSpirit is done via <a href="#uc_contentmodule">Angular UI components</a>.
These receive the content to be displayed and define the HTML view in the shop.</p>
</div>
<div class="paragraph">
<p>The content maintenance is based on section templates, which can include datasets in addition to pure content.
The use of datasets requires an FS_INDEX input component, which in turn references the associated data source.</p>
</div>
<div class="paragraph">
<p>The provided reference project <em>FirstSpirit Connect Reference Project</em> contains the section template <code>location_overview</code> as an example.
This allows the input of a headline and the selection of any number of dataset, each of which is an address.
For this purpose it has the <code>FS_INDEX</code> input component <code>st_locations</code>, which in turn references the data source <code>locations</code>.</p>
</div>
<div class="listingblock">
<div class="title">FS_INDEX input component</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-JAVA hljs" data-lang="JAVA">&lt;FS_INDEX name="st_locations" height="1" useLanguages="no"&gt;
   &lt;LANGINFOS&gt;
      &lt;LANGINFO lang="*" label="Locations"/&gt;
      &lt;LANGINFO lang="DE" label="Standorte"/&gt;
   &lt;/LANGINFOS&gt;
   &lt;SOURCE name="DatasetDataAccessPlugin"&gt;
      &lt;TEMPLATE uid="locations.locations"/&gt;
   &lt;/SOURCE&gt;
&lt;/FS_INDEX&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the <em>CaaS</em>, the selected datasets are stored only as a reference at the section.
Therefore, when querying the data, the bridge automatically checks all documents for such references and determines the datasets by their ID.
The <a href="#create_converter">converter</a> associated with the section takes the data on the Spartacus side and converts it to a format that is optimal for the <a href="#create_ui_component">Angular UI component</a>.
Each of these components is associated with a FirstSpirit section template and defines the HTML output of the transferred data within the shop.</p>
</div>
<div class="paragraph">
<p>For the <code>location_overview</code> section template, the integration provides the <code>location-overview</code> component.
It displays the datasets selected in the FirstSpirit project in the form of an overview below the specified headline.</p>
</div>
</div>
<div class="sect2">
<h3 id="uc_fsdrivenpage"><a class="anchor" href="#uc_fsdrivenpage"></a>5.3. Creation of a FirstSpirit Driven Page</h3>
<div class="paragraph">
<p>The maintenance of editorial content both in FirstSpirit and in the Commerce Cloud is based on a page.
The integration differentiates between <a href="#concept_pagestypes">Shop and FirstSpirit Driven Pages</a>.</p>
</div>
<div class="paragraph">
<p>In contrast to the Shop Driven Pages, the FirstSpirit Driven Pages exist exclusively in FirstSpirit and do not have an associated page in the Commerce Cloud.
They are used to create content or campaign pages, which are not necessarily included in the standard scope of the store.
FirstSpirit Driven Pages can either use the layout of a Shop Driven Page or their own layout, which is defined in the Storefront.
In both cases, the styling of the FirstSpirit Driven Pages is done in Angular, for example, in the <code>styles.scss</code> file of the Storefront.</p>
</div>
<div class="paragraph">
<p>To create a new FirstSpirit Driven Page, some steps have to be performed on the SAP and Spartacus side as well as in FirstSpirit.
These steps are described below.</p>
</div>
<div class="paragraph">
<p><strong>Configuration in SAP and Spartacus</strong></p>
</div>
<div class="paragraph">
<p>In the system realized by the <em>FirstSpirit Connect</em> integration the Storefront takes over the delivery of the content.
It queries the content from both the Commerce Cloud and the respective <em>CaaS</em> instance and links them together.
For this purpose it must be extended by the bridge as described in the <a href="#sp_installation_libraries">installation chapter</a>.</p>
</div>
<div class="paragraph">
<p>In turn, the bridge expects a <a href="#sp_installation_config_pages">definition of the pages</a>, whose processing is to be enabled in the ContentCreator.
For FirstSpirit Driven Pages, the configuration must consider whether the page uses the layout of a Shop Driven Page or its own layout.</p>
</div>
<div class="paragraph">
<p>In the first case, a dummy page must exist in the Commerce Cloud, which is empty except for the desired layout.
This means, for example, that it only includes a general header and footer, but does not contain any other content.
Such a page is required for every layout that should be usable by FirstSpirit Driven Pages.</p>
</div>
<div class="paragraph">
<p>In the second case, the FirstSpirit Driven Page does not have a mapping to a Commerce Cloud page and therefore no layout of such a page is assigned to it.
Thus the Storefront does not know which slots exist and in which order they should be output.
For this reason the <a href="#b2clayoutconfig"><code>b2cLayoutConfig</code> configuration</a> must be extended accordingly.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>On the Spartacus side, there exist several general slots, which are output without additional configuration.
Their specification is therefore only required in the bridge`s configuration, but not in the <code>b2cLayoutConfig</code> configuration.
An example for this kind of slots is the <code>BottomHeaderSlot</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Configuration in FirstSpirit</strong></p>
</div>
<div class="paragraph">
<p>In contrast to the delivery of content, its creation and maintenance is done in the FirstSpirit ContentCreator.
In it, Shop and FirstSpirit Driven Pages can be displayed and enriched with editorial content using the <a href="https://docs.e-spirit.com/tpp/index.html.en"><em>Omnichannel Manager</em></a>.</p>
</div>
<div class="paragraph">
<p>The creation and editing of editorial content requires a <a href="#rp_pages">page template</a> in FirstSpirit, which must be created if necessary.
It must be ensured that the content areas match the <a href="#sp_installation_config_pages">slots</a> configured in the bridge:
For each defined slot, the page template must have a content area with <strong>the same</strong> name.
Otherwise, the editorial content will be ignored by the Storefront and not be output in the live state.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The mapping between the configured slots and the content areas of the FirstSpirit page templates is not case-sensitive.
The names <code>Section1</code> and <code>section1</code> are therefore considered identical and are successfully mapped to each other.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In addition, all page templates must have the <a href="#rp_pages_inputcomponents">text input components <code>pt_seoUrl</code> and <code>pt_cc_identifier</code></a>.
The input component <code>pt_seoUrl</code> enables the definition of an SEO url and the input component <code>pt_cc_identifier</code> ensures the accessibility of the page in the ContentCreator.</p>
</div>
<div class="paragraph">
<p>The transfer of the created or modified content to the <em>Online CaaS</em> is done with each release.
The <em>CaaS</em> persists the content in JSON format in the form of content fragments and makes them available to the Storefront, which integrates them into the shop together with the Commerce Cloud content.</p>
</div>
</div>
<div class="sect2">
<h3 id="uc_translation"><a class="anchor" href="#uc_translation"></a>5.4. Translation of editorial content</h3>
<div class="paragraph">
<p>FirstSpirit consistently pursues the concept of multiple languages and allows the output of different language variants.
Translation of editorial content into these languages is often done in cooperation with external translation agencies or with the help of translation services.
The integration therefore supports <a href="https://docs.e-spirit.com/cloud/translationstudio/TranslationStudio_Whitepaper_EN.html"><em>TranslationStudio</em></a>, which allows the export of content to be translated into a target system and to reimport translations into the FirstSpirit project.</p>
</div>
<div class="paragraph">
<p>If <em>TranslationStudio</em> is configured in the project, the ContentCreator provides various workflows.
These are executable via the <code><strong>Actions</strong></code> menu and are used to perform the following tasks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Translation of the current page or specific sections on this page</p>
</li>
<li>
<p>Translation of all pages within a specific folder</p>
</li>
<li>
<p>Translation of multiple pages</p>
</li>
<li>
<p>Translation of the datasets of a data source</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each of these workflows opens a dialog where different settings for the translation have to be defined.
These differ depending on the elements to be translated and are described in detail in the <a href="https://docs.e-spirit.com/cloud/translationstudio/TranslationStudio_Editor_Manual_EN.html"><em>TranslationStudio Editor Manual</em></a>.
A click on the <b class="button">Request Translation</b> button triggers the export of the content to be translated into the predefined target system.
Once the translation is complete, a preselected workflow automatically imports the content into the FirstSpirit project and embeds it in the correct places.</p>
</div>
<div class="paragraph">
<p>Alternatively, an EasyEdit button is provided for translating single pages or sections.
The button also first displays the configuration dialog and then opens the so-called TranslationHelper dialog.
This displays both the source text and its translation side by side and enables immediate editing if required.</p>
</div>
</div>
<div class="sect2">
<h3 id="uc_delete_pages"><a class="anchor" href="#uc_delete_pages"></a>5.5. Page deletion</h3>
<div class="paragraph">
<p>Within the progress of a project, some pages are only required for a certain time.
After that, they are no longer needed and can be removed from the project.
For this purpose the reference project provides the delete workflow of the <em>BasicWorkflows</em>.</p>
</div>
<div class="paragraph">
<p>This workflow allows the removal of pages as well as media from the FirstSpirit project.
The deletion can be performed either directly or based on the principle of dual control.
After deleting the corresponding element, the workflow releases the parent structure.
The changes are thus directly transferred to the <em>Preview</em> and the <em>Online CaaS</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The execution of the delete workflow requires both delete and release rights.
If the executing person is missing one of these rights, the workflow is not available.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_legal_notices"><a class="anchor" href="#_legal_notices"></a>6. Legal notices</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>FirstSpirit Connect</em> is a product of e-Spirit AG, Dortmund, Germany.<br>
Only a license agreed upon with e-Spirit AG is valid for using the module.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
