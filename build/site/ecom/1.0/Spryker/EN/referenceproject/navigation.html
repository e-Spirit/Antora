<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: CrownSpirit Documentation</title>
    <link rel="canonical" href="https://e-spirit.github.io/Antora/ecom/1.0/Spryker/EN/referenceproject/navigation.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../../_'</script>
    <link rel="icon" href="../../../../../_/img/shortcut-icon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://e-spirit.github.io/Antora">CrownSpirit Documentation</a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Cloud</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Headless</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">E-Commerce</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://e-spirit.github.io/Antora/ecom/1.0/Spryker/index.html">Spryker</a>
            <a class="navbar-item" href="https://e-spirit.github.io/Antora/ecom/1.0/Spartacus/index.html">Spartacus</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">FirstSpirit</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Crownpeak</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ecom" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../../index.html">E-Commerce</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../index.html">Spryker</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../spryker-installation/spryker-installation.html">Spryker - Installation and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../fs-installation/fs-installation.html">FirstSpirit - Installation and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="referenceproject.html">Reference Project</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../use-cases/use-cases.html">Use Cases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../legal-notice.html">Legal Notice</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Spartacus</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../Spartacus/chapters/introduction.html">Main Documentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../Spartacus/chapters/sapcc-installation/sapcc-installation.html">Spartacus - Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../Spartacus/chapters/fs-installation/fs-installation.html">FirstSpirit - Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../Spartacus/chapters/referenceproject/referenceproject.html">Reference Project</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../Spartacus/chapters/use-cases/use-cases.html">Use Cases</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../Spartacus/FS_Connect_SAP_hl_ServeradminManual_EN.html">Admin Manual</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">E-Commerce</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../../component-b/1.0/index.html">CrownSpirit Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../component-b/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../../index.html">E-Commerce</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../fsxa-pwa/1.3.0/index.html">FSXA-PWA</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../fsxa-pwa/1.3.0/index.html">1.3.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../fsxa-ui/4.1.0/index.html">FSXA-UI</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../fsxa-ui/4.1.0/index.html">4.1.0</a>
        </li>
        <li class="version">
          <a href="../../../../../fsxa-ui/3.0.0/index.html">3.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../headless/1.0/index.html">Headless</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../headless/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../../component-b/1.0/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/pahl-espirit/ecom/edit/main/modules/Spryker/pages/EN/referenceproject/navigation.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect2">
<h3 id="rp_navigation"><a class="anchor" href="#rp_navigation"></a>Extension of the main navigation</h3>
<div class="paragraph">
<p>In addition to the different page types, the main navigation of the   B2C Demo Shop can be edited in the {cc}.
In {fs} the navigation is represented by a {navigation_extensions}[global page], a {navigation_section}[section template] and a {tech_nav_github}[technical page reference].
These enable the creation of further menu items in the first level of the navigation and their transfer to the <em>Preview {c}</em> and to the <em>Online {c}</em>.</p>
</div>
<div class="paragraph">
<p>In order to enable the main navigation to be extended, the following Twig templates must also be adapted:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>navigation-header.twig</p>
</li>
<li>
<p>navigation-multilevel-node.twig</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="rp_navigation_globalpage"><a class="anchor" href="#rp_navigation_globalpage"></a>Global page</h4>
<div class="paragraph">
<p>The navigations of the   B2C Demo Shop are represented in {fs} via the {navigation_extensions_page}[page template <code>navigation_extension</code>],
which is used to automatically create a {navigation_extensions}[global page] for each navigation.
It includes an <code>FS_CATALOG</code> input component, which uses the section template <a href="#rp_navigation_section"><code>navigation_node_reference</code></a>
to refer all start nodes of the menu items <strong>maintained in {fs}</strong>.
Each of these start nodes corresponds to a structure folder, which is to be selected within an editing dialog in the {cc}.
Therefore the main navigation in the {cc} has a button which allows the addition of new menu items in the first level of the navigation.
If a referenced structure folder contains further subfolders, these are automatically interpreted as sub-items of the new menu item.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The button for adding further menu items is only visible for those roles that have the right to edit and delete.
Otherwise the button is hidden.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/img_navigation.png" alt="img navigation">
</div>
<div class="title">Figure 1. Button to extend the navigation</div>
</div>
</div>
<div class="sect3">
<h4 id="rp_navigation_section"><a class="anchor" href="#rp_navigation_section"></a>Section template</h4>
<div class="paragraph">
<p>The global page <a href="#rp_navigation_globalpage"><code>navigation_extension</code></a> contained in the reference project enables the extension of the main navigation in the {cc}.
The navigation can be enhanced by adding menu items on the first level, each of which corresponds to a structure folder and serves as a start node.
Subfolders contained in such a structure folder are automatically interpreted as sub-items of the new menu item.</p>
</div>
<div class="paragraph">
<p>For all new start nodes, the <code>FS_CATALOG</code> input component of the global page is enhanced with an entry based on the {navigation_section}[<code>navigation_node_reference</code> section template].
This section template in turn contains an <code>FS_REFERENCE</code> input component, which is used to reference the respective menu item.</p>
</div>
<div class="paragraph">
<p>In its {navigation_section_caas_channel}[output channel], the section template additionally contains the navigation function <code>fr_mainNav</code>.
Starting from the selected structure folder, this function generates the sub-navigation of the new menu item for this folder and the subfolders contained in it.
All these sub-navigations of the individual menu items are combined using the technical page template <a href="#rp_navigation_page"><code>navigations</code></a> and transferred to the <em>{c}</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="rp_navigation_page"><a class="anchor" href="#rp_navigation_page"></a>Page template</h4>
<div class="paragraph">
<p>In addition to the <a href="#rp_navigation_globalpage">global page</a> the reference project contains the {tech_nav_github}[technical page reference <code>navigations</code>].
This is used to transfer all navigation changes made <strong>in {fs}</strong> to the <em>{c}</em>.</p>
</div>
<div class="paragraph">
<p>Using the {script_get_nav_gca_pages}[script <code>get_navigation_gca_pages</code>], the page reference determines all global pages,
which are based on the {navigation_extensions_page}[page template <code>navigation_extension</code>].
The global pages represent the navigations in {fs} that can be extended using the {cc}.
Within the reference project, this is the main navigation of the   B2C Demo Shop.</p>
</div>
<div class="paragraph">
<p>Each of these global pages contains an <code>FS_CATALOG</code> input component,
which uses the section template <a href="#rp_navigation_section"><code>navigation_node_reference</code></a> to reference the start nodes of all menu items <strong>maintained in {fs}</strong>.
The section template in turn generates a sub-navigation for each of these start nodes.
The technical page reference combines all these sub-navigations and creates a JSON document containing all navigations that are <strong>extendable in {fs}</strong>.</p>
</div>
<div class="paragraph">
<p>For the release of the navigation changes made, the reference project provides the workflow <a href="#fs-nav-wf"><em>Release Navigation</em></a>, which requires the release right for its execution.
This workflow only performs the release, but not the publication of the corresponding global page.
At the same time, it triggers a script that ensures that the technical page reference is transferred to the <em>Preview {c}</em>.
The publication of the adaptations and their transfer to the <em>Online {c}</em> only takes place in the context of a <a href="#fs-deployment">full generation</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="rp_navigation_twigtemplates"><a class="anchor" href="#rp_navigation_twigtemplates"></a>Twig templates</h4>
<div class="paragraph">
<p>In addition to the described {fs} templates, the adaptation of the following Twig templates is required in  ,
to enable the extension of the main navigation of the   B2C Demo Shop in the {cc}.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>navigation-header.twig</p>
</li>
<li>
<p>navigation-multilevel-node.twig</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The necessary adjustments are part of the <a href="#sp_navigation">installation</a> and are therefore not described here.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In  , the Twig templates represent the main navigation.
They reference the menu items and control their display in the preview and in the live state.
The adaptations provide the main navigation with a button in the {cc}, which allows the addition of further menu items.</p>
</div>
<div class="paragraph">
<p>If other navigations should be editable in the {cc}, only an adjustment of the corresponding Twig templates is necessary.
The chapter <a href="#uc_navigation">navigation maintenance</a> explains the required steps for this.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script src="../../../../../_/js/site.js"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
