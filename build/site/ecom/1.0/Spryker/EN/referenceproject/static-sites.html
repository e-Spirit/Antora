<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: CrownSpirit Documentation</title>
    <link rel="canonical" href="https://e-spirit.github.io/Antora/ecom/1.0/Spryker/EN/referenceproject/static-sites.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../../_'</script>
    <link rel="icon" href="../../../../../_/img/shortcut-icon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://e-spirit.github.io/Antora">CrownSpirit Documentation</a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Cloud</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Headless</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">E-Commerce</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://e-spirit.github.io/Antora/ecom/1.0/Spryker/index.html">Spryker</a>
            <a class="navbar-item" href="https://e-spirit.github.io/Antora/ecom/1.0/Spartacus/index.html">Spartacus</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">FirstSpirit</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://docs.e-spirit.com/lp/?locale=en&main=firstspirit&sub=editors">Editors</a>
            <a class="navbar-item" href="https://docs.e-spirit.com/lp/?locale=en&main=firstspirit&sub=developers">Developers</a>
            <a class="navbar-item" href="https://docs.e-spirit.com/lp/?locale=en&main=firstspirit&sub=administrators">Administrators</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Crownpeak</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ecom" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../../index.html">E-Commerce</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../index.html">Spryker</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../spryker-installation/spryker-installation.html">Spryker - Installation and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../fs-installation/fs-installation.html">FirstSpirit - Installation and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="referenceproject.html">Reference Project</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../use-cases/use-cases.html">Use Cases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../legal-notice.html">Legal Notice</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Spartacus</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../Spartacus/chapters/introduction.html">Main Documentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../Spartacus/chapters/sapcc-installation/sapcc-installation.html">Spartacus - Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../Spartacus/chapters/fs-installation/fs-installation.html">FirstSpirit - Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../Spartacus/chapters/referenceproject/referenceproject.html">Reference Project</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../Spartacus/chapters/use-cases/use-cases.html">Use Cases</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../Spartacus/FS_Connect_SAP_hl_ServeradminManual_EN.html">Admin Manual</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../Salesforce/index.html">Salesforce</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">SAP Classic</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../SAP_Classic/firstspiritconnect-sap-documentation_EN.html">Main Documentation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../SAP_Classic/firstspiritconnect-sap-admindoc_EN.html">Admin Manual</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">E-Commerce</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../../component-b/1.0/index.html">CrownSpirit Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../component-b/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../dxm/1.0/index.html">DXM</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../dxm/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../../index.html">E-Commerce</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../cloud/1.0/index.html">FirstSpirit Cloud</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../cloud/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../fsxa-pwa/1.3.0/index.html">FSXA-PWA</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../fsxa-pwa/1.3.0/index.html">1.3.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../fsxa-ui/4.1.0/index.html">FSXA-UI</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../fsxa-ui/4.1.0/index.html">4.1.0</a>
        </li>
        <li class="version">
          <a href="../../../../../fsxa-ui/3.0.0/index.html">3.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../headless/1.0/index.html">Headless</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../headless/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../../component-b/1.0/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/pahl-espirit/ecom/edit/main/modules/Spryker/pages/EN/referenceproject/static-sites.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect2">
<h3 id="rp_staticsite"><a class="anchor" href="#rp_staticsite"></a>Extension of existing static pages</h3>
<div class="paragraph">
<p>The <em>{modulname}</em> module allows editors to enrich static pages that already exist on   side with {fs} content.
The pages are displayed within the {cc} using the <em>{ocm}</em> and thus integrate seamlessly into the editorial process familiar from {fs}.</p>
</div>
<div class="paragraph">
<p>Besides the integration of the <em>{ocm}</em>, which is a step of the installation, the extension of static pages in {fs} requires the filling of the output channel of the page and section templates.
In addition, an adaptation of the corresponding Twig templates is necessary on   side.</p>
</div>
<div class="sect3">
<h4 id="rp_pagetemp"><a class="anchor" href="#rp_pagetemp"></a>Page template</h4>
<div class="paragraph">
<p>Editorial content in the {fs} project is always edited on the basis of a page reference.
It and the page on which it is based must first be created in the {fs} project.
Within the {refproject_github}[reference project <em>{refproject}</em>], the creation of the page reference and its page runs automatically in the background and invisible to the editor.
The {script_storage_infos}[<code>infer_page_storage_information</code> script] uses the page ID defined in the <a href="#sp_controller">IndexController</a> to determine the corresponding {fs} page template.</p>
</div>
<div class="paragraph">
<p>The page template <code>homepage</code> contained in the reference project is an example of a static page.
The following code fragment shows the {homepage_caas_channel}[output channel] of this page template:</p>
</div>
<div class="listingblock">
<div class="title">Output channel of the page template homepage</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-XML hljs" data-lang="XML">$CMS_TRIM(level:1)$
   $CMS_SET(json, {:})$
   $CMS_SET(previewId, previewId(element:#global.node))$
   $CMS_SET(void, json.put("previewId", "" + previewId))$
   $CMS_SET(void, json.put("pagetype", "static"))$
   $CMS_SET(void, json.put("identifier", #global.node.uid))$

   $CMS_SET(blocks, [])$
   $CMS_FOR(bodyName, #global.page.template.bodies.map(body -&gt; body.name))$
      $CMS_VALUE(#global.page.body(bodyName))$
   $CMS_END_FOR$

   $CMS_SET(void, json.put("blocks", blocks))$

   $CMS_VALUE(json.toJSON)$
$CMS_END_TRIM$</code></pre>
</div>
</div>
<div class="paragraph">
<p>The page template maps the Twig template <code>home.twig</code> and contains the content areas <code>fs_slt_2</code>, and <code>fs_slt_3</code>.
The content areas enable the addition of editorial content, for which various section templates are available in the reference project.
Their content is added to the <code>json</code> object created in the template.</p>
</div>
<div class="paragraph">
<p>In addition to the editorial content, the <code>previewId</code>, the <code>identifier</code> and the <code>pagetype</code> are passed to the JSON object:
The <code>previewId</code> serves to identify the page reference and allows its decoration in the {cc} as well as its mapping to the   Twig template.
The page reference for the preview is identified by the <a href="#sp_basetemp">JavaScript of the <em>{ocm}</em></a>.
The generation of the page in   is done using the <code>identifier</code>.
It ensures the unique identification in  .
It must also be known whether the underlying page is static or dynamic.
This information is indicated by the <code>pagetype</code>.</p>
</div>
<div class="paragraph">
<p>The generated JSON object is part of the <em>{c}</em> item to be generated, which is persisted on the   side by the importer.</p>
</div>
</div>
<div class="sect3">
<h4 id="rp_section"><a class="anchor" href="#rp_section"></a>Section template</h4>
<div class="paragraph">
<p>The {homepage_github}[page template <code>homepage</code>] contained in the reference project is an example of a static page.
It contains the content areas <code>fs_slt_2</code>, and <code>fs_slt_3</code>.
The content areas allow the addition of editorial content.
Different section templates are available for this, all based on the same principle.
One of them is the <code>shoppable_video</code> section template, which is described here as an example.</p>
</div>
<div class="paragraph">
<p>Within the {video_caas_channel}[output channel] of the Shoppable Video section, various general information is first defined and stored in the <code>block</code> array:
The <code>previewId</code> serves the identification of the section and enables it to be edited in the {cc}.
The fields <code>active</code> and <code>store_names</code> indicate that the CMS block represented by the section is active on the   side and visible in the store selected in the <a href="#fs-projectsettings">project settings</a>.</p>
</div>
<div class="paragraph">
<p>The output of the section on   side is handled by the <a href="#fs_molecule">Twig template <code>fs_molecule_block</code></a>.
This corresponds to a generic template that controls the output of all molecules.
In order to ensure the output of the section both in the preview and in the live state, the name and path of this Twig template must be stored within the <em>{c}</em> item.
Both details are therefore included in the general information of the section.</p>
</div>
<div class="listingblock">
<div class="title">Definition of general information in the output channel of the section</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-XML hljs" data-lang="XML">$CMS_SET(block,{:})$

$-- Defining general block data --$
$CMS_SET(void, block.put("previewId", "" + previewId()))$
$CMS_SET(void, block.put("active", "1"))$
$CMS_SET(void, block.put("store_names",[ps_activeStore]))$
$CMS_SET(void, block.put("template_name", "fs_molecule_block"))$
$CMS_SET(void, block.put("template_path", "@CmsBlock/template/fs_molecule_block.twig"))$</code></pre>
</div>
</div>
<div class="paragraph">
<p>The {format_block_render}[<code>block_name_render</code> render template] then determines the block name.
This is composed of the name of the parent content area and the ID of the section.</p>
</div>
<div class="paragraph">
<p>The <code>block_key_render</code> render template behaves in the same way as the <code>block_name_render</code> render template.
In contrast to this, however, it does not determine the block name, but the unique key of the corresponding block.</p>
</div>
<div class="paragraph">
<p>Using the {format_additional_attributes}[render template <code>additional_block_attributes_render</code>], additional attributes are added to the block.
These attributes are the slot key and the position of the block within the slot, as well as the page type and a unique ID.</p>
</div>
<div class="paragraph">
<p>The importer requires the <code>placeholders</code> field to be in the generated <em>{c}</em> item.
Therefore, it has to be created here, even though it does not have any data.</p>
</div>
<div class="listingblock">
<div class="title">Determination of specific information in the output channel of the section</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-XML hljs" data-lang="XML">$CMS_SET(set_pageType, json.get("pagetype"))$

$-- Add block name attribute to block object (page type dependent) --$
$CMS_RENDER(template: "block_name_render", rt_pageType: set_pageType, rt_blockObject: block)$

$-- Add block key attribute to block object (page type dependent) --$
$CMS_RENDER(template: "block_key_render", rt_pageType: set_pageType, rt_blockObject: block)$

$-- Add additional block attributes to block object (page type dependent) --$
$CMS_RENDER(template: "additional_block_attributes_render", rt_pageType: set_pageType, rt_blockObject: block)$

$-- Defining placeholder data of the block --$
$CMS_SET(placeholders,{:})$
$CMS_SET(void, block.put("placeholder",placeholders))$</code></pre>
</div>
</div>
<div class="paragraph">
<p>The array <code>data</code> contains the editorial contents maintained in the form of the section.
These correspond to the video ID of the selected YouTube video and a list of video items based on the {videoitem_github}[<code>shoppable_video_item</code> section template] described below.
They are displayed at defined times of the video.
To display the video, the player needs the <code>previewId</code> specified here.
On   side, the section is represented by the molecule <code>fs-shoppable-video</code>, whose name is also contained in the <code>data</code> array.</p>
</div>
<div class="paragraph">
<p>The importer expects the information in the context of the current language.
For this reason, the corresponding language abbreviation to which the array <code>data</code> is assigned is determined.</p>
</div>
<div class="paragraph">
<p>In the preview, the contents of the section are output directly.
Otherwise, the last step adds the section to the <code>blocks</code> array defined in the page template, which contains all sections of a page and integrates them into the <em>{c}</em> item to be generated.</p>
</div>
<div class="listingblock">
<div class="title">Processing of editorial content in the output channel of the section</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-XML hljs" data-lang="XML">$CMS_SET(data,{:})$
$CMS_SET(void, data.put("moleculename", "fs-shoppable-video"))$
$CMS_SET(void, data.put("videoId", if(!st_video.empty,st_video.values.first.id)))$
$CMS_SET(void, data.put("previewId", previewId()))$

$CMS_SET(items,[])$
$CMS_VALUE(st_items)$
$CMS_SET(void, data.put("items", items))$

$CMS_SET(locale, #global.language.getLocale())$
$CMS_SET(localeAbbr, locale.getLanguage() + "_" + locale.getCountry())$
$CMS_SET(localizedData,{:})$
$CMS_SET(void, localizedData.put(localeAbbr, data))$
$CMS_SET(void, block.put("data", localizedData))$

$CMS_IF(#global.is("WEBEDIT") &amp;&amp; !isSet(caas_preview_generation))$
   $CMS_VALUE(block.toJSON)$
$CMS_ELSE$
   $CMS_SET(void, blocks.add(block))$
$CMS_END_IF$</code></pre>
</div>
</div>
<div class="paragraph">
<p>As mentioned before, the various video items are based on the <code>shoppable_video_item</code> section template.
Within the {videoitem_caas_channel}[output channel] of this template, the editorial content for a single video item is determined and stored in the <code>item</code> array.
The editorial content corresponds to the time at which the video item is displayed, an image, a text and a reference to the detail page of a product to be selected.
The last step adds the single video item to the <code>items</code> array defined in the {video_caas_channel}[<code>shoppable_video</code> section template], which contains all video items and integrates them into the <em>{c}</em> item to be generated.</p>
</div>
<div class="listingblock">
<div class="title">Output channel of the video item</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-XML hljs" data-lang="XML">$CMS_SET(item, {"time": st_time})$

$CMS_IF(!st_picture.empty)$
	$CMS_SET(void, item.put("picture", {
		"imageUrl": ref(st_picture, res:"CONTENT_IMAGE", abs:1).url,
		"ambilight": !st_ambilight.empty &amp;&amp; st_ambilight
	}))$
	$CMS_IF(!#global.release)$
		$CMS_SET(void, item.picture.put("previewId", previewId(element: st_picture)))$
	$CMS_END_IF$
$CMS_END_IF$

$CMS_IF(!st_text.empty)$
	$CMS_SET(void, item.put("text", st_text.normalize.toText(true)))$
$CMS_END_IF$

$CMS_IF(!st_product.empty)$
	$CMS_SET(void, item.put("productId", st_product.identifiers.get(0)))$
$CMS_END_IF$

$CMS_SET(void, items.add(item))$</code></pre>
</div>
</div>
<div class="paragraph">
<p>The edit dialog in the {cc} has the {openvideo} button for entering the display time, the image, the text and the reference of a video item.
This button opens another dialog in which the selected video is visible and playable.
With the help of a timeline, the video items can be intuitively created, edited or deleted within this dialog.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/videoitem.png" alt="videoitem">
</div>
<div class="title">Figure 1. Editing dialog for video items</div>
</div>
</div>
<div class="sect3">
<h4 id="rp_twigtemplates"><a class="anchor" href="#rp_twigtemplates"></a>Twig templates</h4>
<div class="paragraph">
<p>In {fs}, the creation and editing of editorial content takes place in {cc}.
The storefront is embedded in it using the <em>{ocm}</em>.
This in turn accesses the <em>Preview {c}</em> and determines the current {fs} contents from there.
These contents are transferred to the <em>Online {c}</em> via a <a href="#fs-deployment">{fs} deployment</a>.
The latter makes them available to the importer, who transfers them to   and persists them there.</p>
</div>
<div class="paragraph">
<p>The Twig template <code>home.twig</code> represents a static page on the   side and can be found under the path <code><strong>src/Pyz/Yves/HomePage/Theme/default/views/home</strong></code>.
To make this page editable in {cc}, it is necessary to replace the CMS slots contained in it.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The slots represent the content areas of the respective <a href="#rp_pagetemp">{fs} page template</a>.
For this reason, the key of the CMS slot and the name of the content area must match and start with the prefix <code>fs-slt</code> and <code>fs_slt</code> respectively.
It is important to note that hyphens in the key of the slot are replaced by underscores within {fs}.
The slot <code>fs-slt-2</code> thus corresponds to the content area <code>fs_slt_2</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The inclusion of a slot is done via the   standard command <code>cms_slot</code>, which in turn calls the <a href="#sp_plugin"><code>{fs}PreviewSlotBlockWidgetCmsSlotContentPlugin</code></a>.
This is part of the delivery and requires an extension of the <code>ShopCmsSlotDependencyProvider</code>.
Unlike the <code>CmsSlotBlockWidget</code> included in  , it only takes into account the data stored in <em>{c}</em>.</p>
</div>
<div class="paragraph">
<p>The Twig template <code>home.twig</code> is represented by the  {homepage_github}[page template <code>homepage</code>] contained in the reference project.
It is an example for a static page and has the content areas <code>fs_slt_2</code> and <code>fs_slt_3</code>.
The following code example shows the integration of the slots of the same name within the Twig template to make the static page editable in {cc}.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Within the Twig template the ID <code>idCmsPage</code> has to be defined and passed to each block.
It is composed of the page type and the name of the {fs} page.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Extension of the Twig template home.twig</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-PHP hljs" data-lang="PHP">{% extends template('page-layout-main') %}

{% define data = {
   idCmsPage: 'static_homepage',
} %}

{% block pageInfo %}{% endblock %}

{% block container %}
   {% cms_slot 'fs-slt-2' with{
      idCmsPage: data.idCmsPage,
   }%}

   &lt;div class="container container--home-page"&gt;
      &lt;main&gt;
         {% block content %}
            {% cms_slot 'fs-slt-3' with{
               idCmsPage: data.idCmsPage,
            }%}
         {% endblock %}
      &lt;/main&gt;
   &lt;/div&gt;
{% endblock %}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The content areas <code>fs_slt_2</code> and <code>fs_slt_3</code> contained in the <a href="#rp_pagetemp">page template <code>homepage</code></a> allow the addition of editorial content.
For this purpose, various section templates are available within the {refproject_github}[reference project], for which a corresponding block Twig template must exist on the   side.
One of these templates is the <a href="#rp_section">section template <code>shoppable_video</code></a>, which is represented by the molecule <code>fs-shoppable-video</code> on the   side.
This molecule is part of the <a href="#sp_twigtemplates">module <code>firstspirit-reference-components</code></a> included in the delivery and is stored in the directory <code><strong>{fs}ReferenceComponents</strong></code> in  .</p>
</div>
<div class="paragraph">
<p>The following code extract shows the content of the molecule <code>fs-shoppable-video</code> in a highly abbreviated form:</p>
</div>
<div class="listingblock">
<div class="title">Molecule fs-shoppable-video</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-PHP hljs" data-lang="PHP">{% extends model('component') %}

{% define config = {
   name: 'fs-shoppable-video',
   tag: 'fs-shoppable-video'
} %}

{% define data = {
   fsBlockData: [],
} %}

{% block body %}
   [...]
   &lt;fs-youtube-player video-id="{{ data.fsBlockData.videoId }}" nocookie muted&gt;
      {% for item in data.fsBlockData.items %}
         &lt;div data-time="{{ item.time }}"&gt;
            {% set url = item.productId is defined ? getProductPageUrl(item.productId):null %}
            &lt;a href="{{url}}"&gt;
               {% set ambilight = item.picture.ambilight is defined and item.picture.ambilight %}
               &lt;span class="picture{{ambilight ? 'with-ambilight':''}}"
                  style="background-image: url('{{ item.picture.imageUrl }}');"&gt;
               &lt;/span&gt;
               [...]
               {{ item.text | raw }}
               [...]
            &lt;/a&gt;
            [...]
         &lt;/div&gt;
      {% endfor %}
   &lt;/fs-youtube-player&gt;
   &lt;script type="module" src="https://www.unpkg.com/fs-youtube-player"&gt;&lt;/script&gt;
{% endblock %}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Within the template, the name and tag of the molecule are defined first.
The fsBlockData object is then created.
It provides access to the structured data defined in the output channel of the <a href="#rp_section">{fs} section template</a>.
In the preview case, this data is obtained directly from the <em>Preview {c}</em>.
In contrast, the data for the live state comes from  .
Therefore, they are imported during a <a href="#fs-deployment">{fs} generation</a> from the <em>Online {c}</em> and persisted in  .
The fsBlockData object and the JSON object created in {fs} thus have the same structure in both cases.</p>
</div>
<div class="paragraph">
<p>The block <code>body</code> describes the output of the editorial content.
These correspond to the time at which the video item is displayed, an image, a text and a reference to the detail page of a product to be selected.</p>
</div>
<div class="paragraph">
<p>The following figure shows the representation of the CMS block.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/section.png" alt="section">
</div>
<div class="title">Figure 2. Representation of the section</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script src="../../../../../_/js/site.js"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
