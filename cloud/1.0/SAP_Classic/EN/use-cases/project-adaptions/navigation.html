<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: CrownSpirit Documentation</title>
    <link rel="canonical" href="https://e-spirit.github.io/Antora/cloud/1.0/SAP_Classic/EN/use-cases/project-adaptions/navigation.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../../../_'</script>
    <link rel="icon" href="../../../../../../_/img/shortcut-icon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://e-spirit.github.io/Antora">CrownSpirit Documentation</a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Cloud</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Headless</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">E-Commerce</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://e-spirit.github.io/Antora/ecom/1.0/Spryker/index.html">Spryker</a>
            <a class="navbar-item" href="https://e-spirit.github.io/Antora/ecom/1.0/Spartacus/index.html">Spartacus</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">FirstSpirit</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://docs.e-spirit.com/lp/?locale=en&main=firstspirit&sub=editors">Editors</a>
            <a class="navbar-item" href="https://docs.e-spirit.com/lp/?locale=en&main=firstspirit&sub=developers">Developers</a>
            <a class="navbar-item" href="https://docs.e-spirit.com/lp/?locale=en&main=firstspirit&sub=administrators">Administrators</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Crownpeak</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="cloud" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../../../index.html">FirstSpirit Cloud</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../../First_Steps_with_FS_Cloud_EN.html">First Steps</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../../Getting_Started_EN.html">Getting Started</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">FirstSpirit Cloud</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../../../component-b/1.0/index.html">CrownSpirit Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../../component-b/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../../dxm/1.0/index.html">DXM</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../../dxm/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../../ecom/1.0/index.html">E-Commerce</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../../ecom/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../../../index.html">FirstSpirit Cloud</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../../index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../../fsxa-pwa/1.3.0/index.html">FSXA-PWA</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../../fsxa-pwa/1.3.0/index.html">1.3.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../../fsxa-ui/4.1.0/index.html">FSXA-UI</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../../fsxa-ui/4.1.0/index.html">4.1.0</a>
        </li>
        <li class="version">
          <a href="../../../../../../fsxa-ui/3.0.0/index.html">3.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../../headless/1.0/index.html">Headless</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../../headless/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../../../component-b/1.0/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/pahl-espirit/cloud/edit/main/modules/SAP_Classic/pages/EN/use-cases/project-adaptions/navigation.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect2">
<h3 id="_generating_the_navigation_structure"><a class="anchor" href="#_generating_the_navigation_structure"></a>Generating the navigation structure</h3>
<div class="paragraph">
<p>The <em>{modulname}</em> module allows the navigation structure to be generated in {fs}.
The generation process produces a JSON document in <em>{c}</em>.</p>
</div>
<div class="paragraph">
<p>To use this function, a navigation function that generates the JSON document is required.
The following code extract shows an example of this kind of function, taking into account all of the elements in the structure folder <code>contentpages</code>.</p>
</div>
<div id="navigation-function" class="listingblock">
<div class="title">Navigation function</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;CMS_HEADER&gt;
   &lt;CMS_FUNCTION name="Navigation" resultname="nav"&gt;
      &lt;CMS_PARAM name="root" value="pagefolder:contentpages" /&gt;
      &lt;CMS_PARAM name="expansionVisibility" value="all"/&gt;
      &lt;CMS_PARAM name="siteMap" value="0" /&gt;
      &lt;CMS_ARRAY_PARAM name="beginHTML"&gt;
         &lt;CMS_ARRAY_ELEMENT index="0..4"&gt;{&lt;/CMS_ARRAY_ELEMENT&gt;
      &lt;/CMS_ARRAY_PARAM&gt;
      &lt;CMS_ARRAY_PARAM name="delimiter"&gt;
         &lt;CMS_ARRAY_ELEMENT index="0..4"&gt;,&lt;/CMS_ARRAY_ELEMENT&gt;
      &lt;/CMS_ARRAY_PARAM&gt;
      &lt;CMS_ARRAY_PARAM name="selectedDelimiter"&gt;
         &lt;CMS_ARRAY_ELEMENT index="0..4"&gt;,&lt;/CMS_ARRAY_ELEMENT&gt;
      &lt;/CMS_ARRAY_PARAM&gt;
      &lt;CMS_ARRAY_PARAM name="innerBeginHTML"&gt;
         &lt;CMS_ARRAY_ELEMENT index="0..3"&gt;,"children":[&lt;/CMS_ARRAY_ELEMENT&gt;
      &lt;/CMS_ARRAY_PARAM&gt;
      &lt;CMS_ARRAY_PARAM name="unselectedHTML"&gt;
         &lt;CMS_ARRAY_ELEMENT index="0..4"&gt;
            "label":"$CMS_VALUE(#nav.label)$",
            "id":"$CMS_VALUE(#nav.id)$",
            "pageRef":"$CMS_VALUE(#nav.ref.getUid())$"
         &lt;/CMS_ARRAY_ELEMENT&gt;
      &lt;/CMS_ARRAY_PARAM&gt;
      &lt;CMS_ARRAY_PARAM name="selectedHTML"&gt;
         &lt;CMS_ARRAY_ELEMENT index="0..4"&gt;
            "label":"$CMS_VALUE(#nav.label)$",
            "id":"$CMS_VALUE(#nav.id)$",
            "pageRef":"$CMS_VALUE(#nav.ref.getUid())$"
         &lt;/CMS_ARRAY_ELEMENT&gt;
      &lt;/CMS_ARRAY_PARAM&gt;
      &lt;CMS_ARRAY_PARAM name="innerEndHTML"&gt;
         &lt;CMS_ARRAY_ELEMENT index="0..3"&gt;]&lt;/CMS_ARRAY_ELEMENT&gt;
      &lt;/CMS_ARRAY_PARAM&gt;
      &lt;CMS_ARRAY_PARAM name="endHTML"&gt;
         &lt;CMS_ARRAY_ELEMENT index="0..4"&gt;}&lt;/CMS_ARRAY_ELEMENT&gt;
      &lt;/CMS_ARRAY_PARAM&gt;
   &lt;/CMS_FUNCTION&gt;
&lt;/CMS_HEADER&gt;{"navigation":[$CMS_IF(!nav.isEmpty)$$CMS_VALUE(nav)$$CMS_END_IF$]}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The execution of this function requires a page and a page reference based on this page, which must also be created.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The page reference must contain the reference name <code>main_navigation</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The navigation function shown only incorporates the start page of a menu level.
If you wish to incorporate all page references, the function must be modified accordingly.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Each time an element is created, modified, moved, or deleted in the structure area, the <em>{modulname}</em> module starts generating the page reference <code>main_navigation</code>.
As a result, the document in <em>{c}</em> always reflects the most up-to-date navigation structure in {fs}.
The <em>{c}</em> configuration for the higher level structure folder determines which collection the document will be stored in.
The name of the document saved in <em>{c}</em> is <code>main_navigation_&lt;LANGUAGE&gt;</code>.</p>
</div>
</div>
</article>
  </div>
</main>
</div>
<script src="../../../../../../_/js/site.js"></script>
<script async src="../../../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
