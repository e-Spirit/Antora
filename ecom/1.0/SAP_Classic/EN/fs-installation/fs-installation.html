<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: CrownSpirit Documentation</title>
    <link rel="canonical" href="https://e-spirit.github.io/Antora/ecom/1.0/SAP_Classic/EN/fs-installation/fs-installation.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../../_'</script>
    <link rel="icon" href="../../../../../_/img/shortcut-icon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://e-spirit.github.io/Antora">CrownSpirit Documentation</a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Cloud</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Headless</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">E-Commerce</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://e-spirit.github.io/Antora/ecom/1.0/Spryker/index.html">Spryker</a>
            <a class="navbar-item" href="https://e-spirit.github.io/Antora/ecom/1.0/Spartacus/index.html">Spartacus</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">FirstSpirit</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://docs.e-spirit.com/lp/?locale=en&main=firstspirit&sub=editors">Editors</a>
            <a class="navbar-item" href="https://docs.e-spirit.com/lp/?locale=en&main=firstspirit&sub=developers">Developers</a>
            <a class="navbar-item" href="https://docs.e-spirit.com/lp/?locale=en&main=firstspirit&sub=administrators">Administrators</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Crownpeak</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ecom" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../../index.html">E-Commerce</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../Spryker/index.html">Spryker</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../Spryker/EN/spryker-installation/spryker-installation.html">Spryker - Installation and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../Spryker/EN/fs-installation/fs-installation.html">FirstSpirit - Installation and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../Spryker/EN/referenceproject/referenceproject.html">Reference Project</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../Spryker/EN/use-cases/use-cases.html">Use Cases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../Spryker/EN/legal-notice.html">Legal Notice</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Spartacus</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../Spartacus/chapters/introduction.html">Main Documentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../Spartacus/chapters/sapcc-installation/sapcc-installation.html">Spartacus - Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../Spartacus/chapters/fs-installation/fs-installation.html">FirstSpirit - Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../Spartacus/chapters/referenceproject/referenceproject.html">Reference Project</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../Spartacus/chapters/use-cases/use-cases.html">Use Cases</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../Spartacus/FS_Connect_SAP_hl_ServeradminManual_EN.html">Admin Manual</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../Salesforce/index.html">Salesforce</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">SAP Classic</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../firstspiritconnect-sap-documentation_EN.html">Main Documentation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../firstspiritconnect-sap-admindoc_EN.html">Admin Manual</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">E-Commerce</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../../component-b/1.0/index.html">CrownSpirit Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../component-b/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../dxm/1.0/index.html">DXM</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../dxm/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../../index.html">E-Commerce</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../cloud/1.0/index.html">FirstSpirit Cloud</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../cloud/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../fsxa-pwa/1.3.0/index.html">FSXA-PWA</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../fsxa-pwa/1.3.0/index.html">1.3.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../fsxa-ui/4.1.0/index.html">FSXA-UI</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../fsxa-ui/4.1.0/index.html">4.1.0</a>
        </li>
        <li class="version">
          <a href="../../../../../fsxa-ui/3.0.0/index.html">3.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../headless/1.0/index.html">Headless</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../headless/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../../component-b/1.0/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/pahl-espirit/ecom/edit/main/modules/SAP_Classic/pages/EN/fs-installation/fs-installation.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect1">
<h2 id="_fs_installation_and_configuration"><a class="anchor" href="#_fs_installation_and_configuration"></a>{fs} - Installation and configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Various components must be installed and configured in {fs} in order to use the functions of the <em>{modulname}</em> module.
The following sub-chapters describe the steps required to do this.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To use the <em>{modulname}</em> module, the <em>{caas}</em> and the <em>{ocm}</em> modules must also be configured.
The steps required to do this are described in the <em>{caasfsmdocen}</em> and in the <em>{tppdocen}</em>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In addition to the standard groups <code>Everyone</code>, <code>Administrators</code> and <code>Developers</code>, there are three further <strong>external</strong> user groups in the reference project: <code>Editors</code>, <code>ChiefEditors</code> and <code>ProjectAdmins</code>.
The groups have different rights, which are selected according to their tasks and defined for the different stores.
Users outside these groups are not allowed to use the reference project by default.</p>
</div>
<div class="paragraph">
<p>If there is a need for additional accounts or groups, their creation must be requested by contacting the {techsupport}.
For new accounts, the following information is required:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>first and last name</p>
</li>
<li>
<p>e-mail address</p>
</li>
<li>
<p>groups to be assigned</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="pcomp"><a class="anchor" href="#pcomp"></a>Configuring the project component</h3>
<div class="paragraph">
<p>A project-specific configuration is required in order to use the <em>{modulname}</em> module.
It is set up using the project component, which is already added to the reference project supplied.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To use the <em>{modulname}</em> module, the <em>{caas}</em> and the <em>{ocm}</em> modules must also be configured.
The steps required to do this are described in the <em>{caasfsmdocen}</em> and in the <em>{tppdocen}</em>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The reference project also includes the project component of the <em>{cxt}</em>.
This contains a predefined configuration, the modification of which can lead to a change in the behavior of the {wc}.
An adjustment of the configuration is therefore only to be made after prior consultation with the {techsupport}.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To perform configuration, open the <code><strong>{manager}</strong></code> and select <code><strong>menu:Project properties[Project components]</strong></code>.</p>
</div>
<div id="projectComponents" class="imageblock">
<div class="content">
<img src="../../_images/projectcomponents.png" alt="Server properties - Project components">
</div>
<div class="title">Figure 1. Server properties - Project components</div>
</div>
<div class="paragraph">
<p>A list of all existing project components is displayed in the main panel.
Select the entry <code>{modulname} for SAP {ccloud} Project Configuration</code> and open the corresponding configuration dialog via btn:[Configure].</p>
</div>
<div id="config" class="imageblock">
<div class="content">
<img src="../../_images/config-general.png" alt="config general">
</div>
<div class="title">Figure 2. Project component - General</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">URI</dt>
<dd>
<p>The indicated URI is the server URI to the {ccloud} instance.</p>
</dd>
<dt class="hdlist1">Connection timeout (sec)</dt>
<dd>
<p>This parameter defines the time that elapses (in seconds) before the process of establishing a connection for communication with {ccloud} times out.</p>
</dd>
<dt class="hdlist1">Connection retries</dt>
<dd>
<p>This parameter defines the number of attempts the system will make to establish a connection for communication with {ccloud}.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The following fields are used to configure authentication and are available in each tab.
To overwrite the settings defined on the <code>General</code> tab, the other tabs provide an option to <code>Override general OAuth</code> settings.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Auth Server URI</dt>
<dd>
<p>This parameter defines the standard end point for OAuth authentication (relative to the URI of the {ccloud} instance).</p>
</dd>
<dt class="hdlist1">Username</dt>
<dd>
<p>This field is used to enter the standard user for OAuth authentication.</p>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The user specified here must belong to the following user groups in the {ccloud}:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>previewmanagergroup</code> to generate a preview ticket</p>
</li>
<li>
<p><code>basecmsmanagergroup</code> to load product and category information in the reports</p>
</li>
<li>
<p><code>cmsmanagergroup</code> to create and update pages in the {ccloud}</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Password</dt>
<dd>
<p>This field is used to enter the password associated with the user provided in the previous field.</p>
</dd>
<dt class="hdlist1">OAuth Client ID</dt>
<dd>
<p>This field is used to indicate the standard client ID used for OAuth authentication.
It has an impact on the rights of the users.</p>
</dd>
<dt class="hdlist1">OAuth Client Secret</dt>
<dd>
<p>A secret is used for OAuth authentication; this secret must match the indicated client ID.</p>
</dd>
<dt class="hdlist1">OAuth Grant Type</dt>
<dd>
<p>OAuth authentication requires a standard grant type.
This can either be set to <code>password</code> or <code>client credentials</code>.</p>
</dd>
<dt class="hdlist1">Test OAuth Settings</dt>
<dd>
<p>This button is used to test the established connection based on the authentication settings entered.
If the <code>Override general OAuth settings</code> option is checked on the other tabs, these settings are also tested.</p>
</dd>
</dl>
</div>
<div id="config2" class="imageblock">
<div class="content">
<img src="../../_images/config-product-dap.png" alt="config product dap">
</div>
<div class="title">Figure 3. Project component - Product DAP</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Collection</dt>
<dd>
<p>This field is used to define the end point for product data queries.</p>
</dd>
</dl>
</div>
<div id="pdp_url" class="dlist">
<dl>
<dt class="hdlist1">PDP URL</dt>
<dd>
<p>The URL of a product detail page must be entered in this field.
Both absolute and relative URLs are permitted.
<code>{code}</code> can be used as a placeholder for the product code.
The default value is <code>p/{code}</code>.</p>
</dd>
<dt class="hdlist1">Header/Extract/Icon/Thumbnail</dt>
<dd>
<p>By default, search results in the product report show the product name in the header, the catalogue ID in the extract, and a thumbnail.
The fields <code>Header</code>, <code>Extract</code>, <code>Icon</code>, and <code>Thumbnail</code> allow the configuration of this information.
For this purpose the following placeholders are available in addition to simple text entries:</p>
<div class="ulist">
<ul>
<li>
<p><code>${catalogId}</code></p>
</li>
<li>
<p><code>${catalogVersion}</code></p>
</li>
<li>
<p><code>${code}</code></p>
</li>
<li>
<p><code>${description}</code></p>
</li>
<li>
<p><code>${name}</code></p>
</li>
<li>
<p><code>${thumbnailMediaUrl}</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p>The entries in the fields replace the standard information in the search results of the product report.
Textual entries are adopted unchanged.
If the fields remain empty, the search results display the standard information.</p>
</dd>
<dt class="hdlist1">Override general OAuth settings</dt>
<dd>
<p>The fields for OAuth authentication contained in this tab enable the overwriting of the entries in the tab <code><strong>General</strong></code>.
The overwriting is done by activating the checkbox <code>Override general OAuth settings</code>.
Otherwise, the entries from the <code><strong>General</strong></code> tab will be used for authentication.</p>
</dd>
</dl>
</div>
<div id="configCategoryDap" class="imageblock">
<div class="content">
<img src="../../_images/config-category-dap.png" alt="config category dap">
</div>
<div class="title">Figure 4. Project component - Category DAP</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Katalog Id</dt>
<dd>
<p>The catalog defined here is used as the source of the categories for the category DAP.</p>
</dd>
<dt class="hdlist1">Katalog Version</dt>
<dd>
<p>For configuration purposes, this field is used to specify the version of the product catalog from which the categories for the category DAP were taken.</p>
</dd>
</dl>
</div>
<div id="cdp_url" class="dlist">
<dl>
<dt class="hdlist1">CDP URL</dt>
<dd>
<p>The URL of a category detail page must be entered in this field.
Both absolute and relative URLs are permitted.
<code>{code}</code> can be used as a placeholder for the category code.
The default value is <code>c/{code}</code>.</p>
</dd>
<dt class="hdlist1">Override general OAuth settings</dt>
<dd>
<p>The fields for OAuth authentication contained in this tab enable the overwriting of the entries in the tab <code><strong>General</strong></code>.
The overwriting is done by activating the checkbox <code>Override general OAuth settings</code>.
Otherwise, the entries from the <code><strong>General</strong></code> tab will be used for authentication.</p>
</dd>
</dl>
</div>
<div id="configPreview" class="imageblock">
<div class="content">
<img src="../../_images/config-preview.png" alt="config preview">
</div>
<div class="title">Figure 5. Project component - Preview</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Language</dt>
<dd>
<p>The language abbreviation entered in this field sets the language of the generated preview ticket.</p>
</dd>
<dt class="hdlist1">Resource Path</dt>
<dd>
<p>This field defines the resource URL of the generated preview ticket.</p>
</dd>
<dt class="hdlist1">Page Id</dt>
<dd>
<p>This field indicates the ID of the page of the generated preview ticket.</p>
</dd>
<dt class="hdlist1">Catalog Versions</dt>
<dd>
<p>This field is used to enter the catalog versions of the generated preview ticket.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The previously mentioned settings on the <code>Preview</code> tab correspond to the parameters of a
<a href="https://help.sap.com/doc/65f54fc80c71428cb3425c97daf250e5/1808/en-US/previewwebservices/index.html#_previewticket">preview ticket</a> in the <code>Preview API</code> of {ccloud}.
This ticket is requested by {fs} to allow a protected storefront to be previewed in {wc}.
The delivery includes the file <code>fs-preview-session-initializer.js</code>, which is used as necessary by the <code>caas:includeOcmScripts</code> tag and triggers the generation of a preview ticket by calling up an executable.
If necessary, additional parameters can be transferred during this call to overwrite the settings on the <code>Preview</code> tab shown here.
The structure of the parameter object must match the structure of one of the
<a href="https://help.sap.com/doc/65f54fc80c71428cb3425c97daf250e5/1808/en-US/previewwebservices/index.html#_previewticket">preview tickets</a> in the <code>Preview API</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Override general OAuth settings</dt>
<dd>
<p>The fields for OAuth authentication contained in this tab enable the overwriting of the entries in the tab <code><strong>General</strong></code>.
The overwriting is done by activating the checkbox <code>Override general OAuth settings</code>.
Otherwise, the entries from the <code><strong>General</strong></code> tab will be used for authentication.</p>
</dd>
</dl>
</div>
<div id="configContent" class="imageblock">
<div class="content">
<img src="../../_images/config-content.png" alt="config content">
</div>
<div class="title">Figure 6. Project component - Contents</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Site Id</dt>
<dd>
<p>The ID of the {ccloud} site (e.g. <code>powertools</code>) must be entered in this field.</p>
</dd>
<dt class="hdlist1">Content Catalog Id</dt>
<dd>
<p>As with the Site Id, this field is used to enter the ID of the content catalog (e.g. <code>powertoolsContentCatalog</code>).</p>
</dd>
<dt class="hdlist1">Content Catalog Version</dt>
<dd>
<p>In this field, the version of the content catalog to be used must be selected (<code>Staged</code> or <code>Online</code>).</p>
</dd>
</dl>
</div>
<div id="template_mappings" class="dlist">
<dl>
<dt class="hdlist1">Template Mappings</dt>
<dd>
<p>To maintain existing {ccloud} pages in {fs}, a {fs} template must be assigned to each {ccloud} template.
For this purpose, a mapping between the <code>{ccloud} Template Item IDs</code> and the corresponding <code>{fs} Page Template UIDs</code> must be defined at this point.</p>
<div class="paragraph">
<p>Since the content pages based on the templates can have different URLs, the <code>{ccloud} URL Pattern</code> column enables the creation of a specific preview URL in each case.
The URL can be entered either relative to the storefront or the host (see example below).
Furthermore, it is also possible to use the placeholder <code>pageUid</code>.
If the column remains empty, the URL defined in the <a href="#contentpage_url"><code>Contentpage URL</code></a> field is used instead for the preview of the corresponding page.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong><br>
The configuration visible in the figure would have the following meaning:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. {ccloud} URL Pattern - Example</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">{fs} template</th>
<th class="tableblock halign-left valign-top">Entry</th>
<th class="tableblock halign-left valign-top">resulting URL</th>
<th class="tableblock halign-left valign-top">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">content_page</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/magazin/outdoor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">http(s)://&lt;host&gt;/magazin/outdoor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the entry starts with a slash, only the server URL is extended.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">content_page_1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">---</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">http(s)://&lt;host&gt;/&lt;storefront-context-root&gt;/preview-content?uid={pageUid}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Since no specific URL is defined in this case, the general <code>Contentpage URL</code> is used instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">content_page_2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">assortment/{pageUid}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">http(s)://&lt;host&gt;/&lt;storefront-context-root&gt;/assortment/{pageUid}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This entry has no leading slash.
  It therefore represents a URL relative to the storefront.
  Furthermore, it contains the placeholder <code>pageUid</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">content_page_3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">indoor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">http(s)://&lt;host&gt;/&lt;storefront-context-root&gt;/indoor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This entry also does not contain a leading slash and therefore also leads to an extension of the storefront URL.</p></td>
</tr>
</tbody>
</table>
</dd>
<dt class="hdlist1">Content Page Attribute Mapping</dt>
<dd>
<p>The data entered here corresponds to the mapping of the {fs} content page attributes to the {ccloud} content page attributes.</p>
<div class="paragraph">
<p>The following {fs} input components are supported for entering the {fs} content page attributes: <code>CMS_INPUT_TEXT</code>, <code>CMS_INPUT_TOGGLE</code>, <code>CMS_INPUT_RADIOBUTTON</code>, <code>CMS_INPUT_CHECKBOX</code>, <code>CMS_INPUT_COMBOBOX</code>, <code>CMS_INPUT_LIST</code>, <code>CMS_INPUT_DATE</code>, <code>CMS_INPUT_NUMBER</code>, <code>CMS_INPUT_TEXTAREA</code>.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="listingblock">
<div class="title">Example configuration of attribute mapping</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">[{
   "templateUid": "landinglayout2",
   "uidType": "TEMPLATESTORE",
   "attributeMappings": [
      { "source": "pt_title",
        "target": "title",
        "languageDependent": true
      },
      { "source": "pt_label",
        "target": "label",
        "languageDependent": false
      }
   ]
},
{
   "templateUid": "news.news_article",
   "uidType": "TEMPLATESTORE_SCHEMA",
   "attributeMappings": [
      { "source": "tt_title",
        "target": "title",
        "languageDependent": true
      },
      { "source": "tt_label",
        "target": "label",
        "languageDependent": false
      }
   ]
}]</code></pre>
</div>
</div>
</dd>
<dt class="hdlist1">Content Pages Sitestore Folder UID</dt>
<dd>
<p>In this field, the UID of the structure folder in which the content pages managed in {fs} are stored must be entered.</p>
</dd>
</dl>
</div>
<div id="contentpage_url" class="dlist">
<dl>
<dt class="hdlist1">Contentpage URL</dt>
<dd>
<p>Content pages can have specific URLs that are optionally specified during the definition of the <a href="#template_mappings"><code>Template Mapping</code></a> which have to be configured beforehand.
If a content page does not have a specific URL, the general <code>Contentpage URL</code> entered in this field is used instead for displaying the content page in the preview.
Both absolute and relative URLs as well as the use of the placeholder <code>{pageUid}</code> are permitted in this field.
The default value is <code>preview-content?uid={pageUid}</code>.</p>
</dd>
<dt class="hdlist1">Override general OAuth settings</dt>
<dd>
<p>The fields for OAuth authentication contained in this tab enable the overwriting of the entries in the tab <code><strong>General</strong></code>.
The overwriting is done by activating the checkbox <code>Override general OAuth settings</code>.
Otherwise, the entries from the <code><strong>General</strong></code> tab will be used for authentication.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="wcomp"><a class="anchor" href="#wcomp"></a>Adding web components</h3>
<div class="paragraph">
<p>The {wc} requires a web component that has already been added to the reference project supplied.
By default it is installed globally in the <code><strong>{manager}</strong></code> in the area <code><strong>menu:Server Properties[Web applications]</strong></code>.
In this case, all installation or configuration steps required for the web component have already been performed by the {creator}.</p>
</div>
<div class="paragraph">
<p>Alternatively, you may install the web component in the <code><strong>Project properties</strong></code>.
<strong>Only in this case</strong> it still needs to be installed on an active web server.
To do this, open the <code><strong>{manager}</strong></code> and select <code><strong>menu:Project properties[Web components]</strong></code>.</p>
</div>
<div id="webcomponents" class="imageblock">
<div class="content">
<img src="../../_images/webcomponents.png" alt="webcomponents">
</div>
<div class="title">Figure 7. Web components in the project properties</div>
</div>
<div class="paragraph">
<p>Inside the main panel, various tab pages are visible.
Each tab page contains a list of the existing web components.
This list contains the following entries for <code><strong>{wc}</strong></code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>{bwfs}_ContentCreator_Library</code> (only required when using the <em>{bwfs}</em>)</p>
</li>
<li>
<p><code>{cxt} Extension: WebApp for {wc}</code> (only required when using the reference project)</p>
</li>
<li>
<p><code>{modulname} for SAP {ccloud} Web App</code></p>
</li>
<li>
<p><code>{fs} ThirdPartyPreview WebApp</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Select an <code>Active web server</code> on the tab page via the selection box of the same name and start the installation by clicking the btn:[Install] button.
After successful installation, a dialog opens, in which the activation of the <code>Web server</code> must be confirmed.</p>
</div>
<div class="paragraph">
<p>Detailed information on how to configure web components is available in the <em>{linkfsadocen}</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="install_previewurl"><a class="anchor" href="#install_previewurl"></a>Definition of the external preview URL</h3>
<div class="paragraph">
<p>By using the <em>{ocm}</em>, the {wc} displays external content from the storefront of the {ccloud} to which the <em>{ocm}</em> needs access.
The preview URL of the storefront must therefore be specified in the {wc} properties.
This must be extended by the parameter <code>firstSpiritPreview=1</code>, which is required for initializing the preview.
Since the specification of the URL is always project-specific, there is no default configuration for it within the reference project.</p>
</div>
<div class="paragraph">
<p><strong>Example:</strong> <code>https://sap-storefront.e-spirit.com?site=e-spirit&amp;firstSpiritPreview=1</code></p>
</div>
<div class="paragraph">
<p>Open the <code><strong>menu:Project properties[{wc}]</strong></code> area within the <code><strong>{manager}</strong></code> and enter the URL of the storefront in the <code>External preview URL</code> field.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/previewurl.png" alt="previewurl">
</div>
<div class="title">Figure 8. External Preview URL</div>
</div>
</div>
<div class="sect2">
<h3 id="_presentation_channel"><a class="anchor" href="#_presentation_channel"></a>Presentation channel</h3>
<div class="paragraph">
<p>An additional XML channel is required in addition to the presentation channels that already exist for the project.
For empty projects, this channel must be created manually; however, it is already contained within the supplied <em>{refproject}</em>.</p>
</div>
<div class="paragraph">
<p>The presentation channel was created in the <code><strong>{manager}</strong></code> under <code><strong>menu:Project properties[Template sets]</strong></code> and is configured as follows:</p>
</div>
<div id="templateset" class="imageblock">
<div class="content">
<img src="../../_images/templateset.png" alt="templateset">
</div>
<div class="title">Figure 9. Presentation channel</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In the selection box of the same name, the conversion rule to be created for <em>{c}</em> must be selected.
The steps required to do this are described in the <em>{caasfsmdocen}</em>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The presentation channel is activated and is therefore available in the project.
It is used to define the content to be transferred, which is summarized in messages during the generation operation and transferred to <em>{c}</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="install_workflow"><a class="anchor" href="#install_workflow"></a>Release workflow</h3>
<div class="paragraph">
<p>Within the supplied <em>{refproject}</em>, content is released by editors via the release workflow of the <em>{bwfs}</em>.
This can be used as an alternative to project-specific workflows.</p>
</div>
<div class="paragraph">
<p><strong class="underline">Installing the {bwfs} module</strong></p>
</div>
<div class="paragraph">
<p>Before using the release workflow, you must install the <em>{bwfs}</em> module on the {fs} Server and activate the web component.
The steps required to do this are the same as those required for the installation of the other modules and the activation of the associated <a href="#wcomp">web component</a>.
By default, these steps are already performed.</p>
</div>
<div class="paragraph">
<p>In addition, to use <em>{bwfs}</em> in the {wc}, the provided <code>{bwfs} Status Providers</code> must be selected in the <code><strong>menu:Project properties[{wc}]</strong></code> area within the <code><strong>{manager}s</strong></code>.
This setting has already been applied in the <em>{refproject}</em>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/statusprovider.png" alt="statusprovider">
</div>
<div class="title">Figure 10. Element Status Provider</div>
</div>
<div class="paragraph">
<p><strong class="underline">Templates</strong></p>
</div>
<div class="paragraph">
<p>The <em>{bwfs}</em> require various templates.
Usually, these templates need to be imported via the context menu in the {fs} project used.
However, they are already contained within the reference project and importing the templates is therefore not necessary.</p>
</div>
<div class="paragraph">
<p><strong class="underline">Permission assignment</strong></p>
</div>
<div class="paragraph">
<p>In the final step, the release workflow must be authorized in the individual stores so that they can be executed on {fs} elements.
To do this, select <code><strong>menu:Extras[Change permissions]</strong></code> from the context menu of the stores' root nodes to call up the permission assignment.
This step has also already been carried out in the reference project and is therefore omitted.</p>
</div>
<div class="paragraph">
<p>The permissions for executing the workflow set on the stores' root nodes relate to the Everyone group.
This can only be changed by modifying the permissions manually.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>More detailed information on the installation, configuration, and functionality of the workflow can be found in the <em>{bwfdocen}</em>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="install_pset"><a class="anchor" href="#install_pset"></a>Project settings</h3>
<div class="paragraph">
<p>There is some essential project-specific information that needs to be entered for the connection between {fs} and {ccloud}.
It is entered using the project settings form and must be specified within the project being used.</p>
</div>
<div class="paragraph">
<p>Within the supplied reference project, the project settings page with the required configuration already exists.
In this case, there is no need to create the template or the required components.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Changes to the project settings do not take effect straight away, as they are saved in the session of the user.
They require the client to be restarted.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/project_set.png" alt="project set">
</div>
<div class="title">Figure 11. Project settings</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">CONTENT PAGE | LANDINGPAGE2 TEMPLATE</dt>
<dd>
<p>For the maintenance of <a href="#edit-existing-content-pages">existing {ccloud} content pages</a> in {fs} each {ccloud} page template must be assigned to a {fs} template.
The {fs} template selected in this field is used to maintain {ccloud} content pages based on the {ccloud} template <code>LandingPage2Template</code>.
To support different or further {ccloud} templates the project settings form must be extended by similar fields.
This information enables the scripts <code>page_type_mapping</code> and <code>get_page_type</code> to correctly map {ccloud} and {fs} content pages.
Therefore changes in the project settings page have to be reflected in these two scripts.</p>
</dd>
<dt class="hdlist1">CONTENT PAGE FOLDER</dt>
<dd>
<p>Within the {fs} project, all content pages are created in the same content folder, which is defined in this field.
The script <code>page_type_mapping</code> requires the details of the folder for the maintenance of <a href="#edit-existing-content-pages">existing {ccloud} content pages</a>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="install_schedule"><a class="anchor" href="#install_schedule"></a>Deployment schedule</h3>
<div class="paragraph">
<p>By default, the release of content does not involve any update to <em>Online {c}</em> or any transfer for data to the {ccloud}.
Instead, it only involves the {fs} release process, which can be mapped, for example, using the <a href="#install_workflow">Release workflow of the <em>{bwfs}</em></a>.
The <em>Online {c}</em> update and data transfer to the {ccloud} only takes place when the content is deployed.</p>
</div>
<div class="paragraph">
<p>The deployment of released editorial content is executed via a <em>{c}</em> schedule.
This executes a <em>{c}</em> generation and transfers the data to <em>Online {c}</em>, which then makes it available to {ccloud}.
The schedule can also be used to synchronize the online content catalog in {ccloud}.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The update of the online content catalog may involve various dependencies.
For this reason, a decision as to whether the approval and synchronization processes form part of the import process or not must be made on a project-specific basis.</p>
</div>
<div class="paragraph">
<p>It is also possible to simply carry out an approval and a <a href="#direct_release">direct publication in the online content catalogue</a>.
In this case, the synchronization of the data must be ensured on a project-specific basis.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The supplied reference project contains a schedule that incorporates the following actions:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/schedule.png" alt="schedule">
</div>
<div class="title">Figure 12. Generation schedule actions</div>
</div>
<div class="paragraph">
<p>The actions <code>Initialize {c}Generation</code>, <code>{c} Generate</code>, <code>{c} CleanUp</code>, and <code>Finalize {c} Generation</code> make up the <em>{c}</em> schedule.
The actions described in the following sub-chapters are added to the schedule.
As the <a href="#bulk_update">Bulk Update</a> requires access to the <a href="#app_sync">Approval or Sync Definition</a>, these actions are described in reverse order.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <em>{caasfsmdocen}</em> contains further information on the <em>{c}</em> schedule.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="bulk_update"><a class="anchor" href="#bulk_update"></a>SAPCC - Bulk Update</h4>
<div class="paragraph">
<p>Product detail pages maintained in {fs} are generally based on pages that already exist in {ccloud}.
When these pages are edited, only the content is changed; the page creation process is separate.
Their publication therefore only requires an update of the data stored in the <em>Online {c}</em>.
There is no need to synchronize the online content catalog in {ccloud}.</p>
</div>
<div class="paragraph">
<p>Unlike product detail pages, content pages can be created in {fs}.
For this type of page, it is not sufficient to just update <em>Online {c}</em> to trigger deployment.
Deployment also involves importing the content pages into {ccloud}.
This import process must be added to the deployment schedule as the last action in the form of the script <em>SAPCC - Bulk Update</em>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To update the online storefront, the bulk update accesses the approval and sync definition.
These match the action described in the <a href="#app_sync">following chapter</a>.</p>
</div>
<div class="paragraph">
<p>However, the update of the online content catalog may involve various dependencies.
For this reason, the action is optional and a decision as to whether or not it is included in the import process must be made on a project-specific basis.
If the action is not included, the bulk update script only updates the staged storefront.</p>
</div>
<div class="paragraph">
<p>It is also possible to simply carry out an approval and a <a href="#direct_release">direct publication in the online content catalogue</a>.
In this case, the synchronization of the data must be ensured on a project-specific basis.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">SAPCC - Bulk Update</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-HTML hljs" data-lang="HTML">#! executable-class
com.espirit.moddev.contentconnect.sap.module.synchronization.CommerceCloudBulkUpdate</code></pre>
</div>
</div>
<div class="paragraph">
<p>To create and update content pages in {ccloud}, the import process must know the mapping of the {fs} and {ccloud} content pages.
For this purpose, a mapping must be configured in the project component under <a href="#configContent"><code><strong>Content</strong></code></a>.</p>
</div>
<div class="paragraph">
<p>The reference name of the structure folder in which the content pages within the {fs} project are stored must be entered at the same position.
The structure folder allows the import process to identify the pages to be transferred.
For this reason, the folder must only contain content pages that are managed by {fs}.
During deployment, the import process updates or creates all pages contained in this folder in the {ccloud}.</p>
</div>
</div>
<div class="sect3">
<h4 id="app_sync"><a class="anchor" href="#app_sync"></a>Content Page Approval &amp; Sync Definition</h4>
<div class="paragraph">
<p>By default, <a href="#bulk_update">Bulk-Update</a> only updates the staged content catalog in {ccloud}.
To initiate an update of the online catalog content as well, the relevant pages must be approved and synchronized.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The update of the online content catalog may involve various dependencies.
For this reason, a decision as to whether the approval and synchronization processes form part of the import process or not must be made on a project-specific basis.</p>
</div>
<div class="paragraph">
<p>It is also possible to simply carry out an approval and a <a href="#direct_release">direct publication in the online content catalogue</a>.
In this case, the synchronization of the data must be ensured on a project-specific basis.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In such cases, the import process permits the execution of an additional update logic, which is applied to each content page that is to updated or created.
This logic can be added to the deployment schedule in the form of the <em>Content Page Approval &amp; Sync Definition</em> script.
As the previously described <a href="#bulk_update">Bulk Update</a> uses the update logic, the logic must be executed before the update.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Approval and synchronization take place via the API of the <em>{modulname}</em> module.
The associated manual and the JavaDoc-JAR is included in the delivery.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Content in the staged content catalog may contain references to products in the staged product catalog.
To avoid inconsistencies in the online catalogs, it is a good idea to synchronize the product catalog before synchronizing the content catalog.</p>
</div>
<div class="paragraph">
<p>A standard process for synchronizing various catalogs always involves complex and project-specific requirements.
For this reason, it is not possible to define this kind of process here.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The code extract below shows an example definition of the approval process for an imported content page and its synchronization with the online content catalog.</p>
</div>
<div class="listingblock">
<div class="title">Update logic for the approval and synchronization of a content page</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-HTML hljs" data-lang="HTML">import com.espirit.moddev.contentconnect.sap.module.ServiceFactory;
import com.espirit.moddev.contentconnect.sap.module.synchronization.ContentPageAdditionalUpdate;
import com.espirit.moddev.contentconnect.sap.module.catalogs.cmsitem.CMSItemService;
import com.espirit.moddev.contentconnect.sap.module.catalogs.cmsitem.CMSItem;

contentPageAdditionalUpdate = new ContentPageAdditionalUpdate() {
   updateCMSContentPage(cmsContentPage, pageRef) {
      cmsItemService = ServiceFactory.getCMSItemService(context);

      context.logInfo("Approving content page " + cmsContentPage.getUid() + "..");

      // Approving CMSContentPage
      cmsContentPage.setApprovalStatus("APPROVED");
      updatedCMSContentPageOpt = cmsItemService.updateCMSContentPage(cmsContentPage);

      if(updatedCMSContentPageOpt.isPresent()) {
         // Synchronizing CMSContentPage to online catalog
         context.logInfo("Synchronizing content page " + cmsContentPage.getUid() + "..");
         cmsItemService.synchronizeItem(cmsContentPage, "Online");
      } else {
         context.logWarning("Approving content page " + cmsContentPage.getUid() + " failed!");
      }
   }
};

context.setProperty("sapcc_additional_contentpage_update", contentPageAdditionalUpdate);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="custom-process"><a class="anchor" href="#custom-process"></a>Expansion of the standard process</h4>
<div class="paragraph">
<p>The previously described standard process for the release and deployment of content can be modified and expanded as required on a project-specific basis.
This chapter describes possible use cases and contains information on how to use them.</p>
</div>
<div id="preview-page-attributes" class="dlist">
<dl>
<dt class="hdlist1">Preview of changes to {ccloud}-specific page attributes</dt>
<dd>
<p>Editorial changes to content or product detail pages are automatically transferred to <em>Preview {c}</em>, which renders them available for display in the preview.
However, changes to Commerce Cloud-specific page attributes of content pages are processed in a different way:
These changes are not stored in <em>{c}</em>, but are transferred to the staged content catalog during <a href="#install_schedule">deployment</a>.</p>
<div class="paragraph">
<p>If these changes need to be reflected in the preview, it must be possible to manually transfer them to the staged content catalog.
To do so, the system requires a schedule which, like the <a href="#install_schedule">deployment schedule</a>, is comprised of a generation operation and the subsequent import process.
In such cases, instead of a <em>{c}</em> full generation, a <em>{c}</em> partial generation must be selected.
The update logic for the import process must also contain an unapproval of the content page and must <strong>not</strong> trigger synchronization.</p>
</div>
</dd>
<dt class="hdlist1">Approval of a content page during page release</dt>
<dd>
<p>Using the <a href="#install_workflow">release workflow</a>, the user can execute an automatic approval of the corresponding {ccloud} page in the staged content catalog in parallel to the {fs} release process.
To achieve this, the workflow must be modified to call up the relevant <a href="#install_schedule">deployment schedule</a>.
In order to update only the single released page, the <em>{c}</em> full generation must be replaced with a <em>{c}</em> partial generation.
As is the case with the <a href="#preview-page-attributes">preview of changes to {ccloud}-specific page attributes</a>, the update logic must <strong>not</strong> trigger synchronization.</p>
</dd>
<dt class="hdlist1">Hot deployment</dt>
<dd>
<p>A hot deployment - the publication of a single page - works in the same way as a standard <a href="#install_schedule">released page deployment</a>.
However, instead of a delta or full generation, only a partial generation of the page to be deployed should be carried out.</p>
</dd>
</dl>
</div>
<div id="direct_release" class="dlist">
<dl>
<dt class="hdlist1">Direct publication in the online content catalogue</dt>
<dd>
<p>The described <a href="#install_schedule">deployment schedule</a> updates both the Staged and the Online Content Catalog.
Therefore it triggers an approval and synchronization of the affected content pages.
Alternatively, it is also possible to trigger only an approval and a direct publication into the online content catalog.
In this case, automatic synchronization is not necessary.</p>
<div class="paragraph">
<p>The following steps are required to implement direct publication:</p>
</div>
<div class="paragraph">
<p>In the first step the sync definition must be removed within the <a href="#app_sync">schedule action <code>Content Page Approval &amp; Sync Definition</code></a>.
For this purpose, the update logic must be adapted as shown in the code snippet.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Due to the direct publication and the adaptation of the update logic, the automatic synchronization of both content catalogs will be omitted.
For this reason, it must be ensured on a project-specific basis that the contents of both catalogs remain identical.
Otherwise, divergences are unavoidable.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Update logic for the approval of a content page</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-HTML hljs" data-lang="HTML">import com.espirit.moddev.contentconnect.sap.module.ServiceFactory;
import com.espirit.moddev.contentconnect.sap.module.synchronization.ContentPageAdditionalUpdate;
import com.espirit.moddev.contentconnect.sap.module.catalogs.cmsitem.CMSItemService;
import com.espirit.moddev.contentconnect.sap.module.catalogs.cmsitem.CMSItem;

contentPageAdditionalUpdate = new ContentPageAdditionalUpdate() {
   updateCMSContentPage(cmsContentPage, pageRef) {
      cmsItemService = ServiceFactory.getCMSItemService(context);

      context.logInfo("Approving content page " + cmsContentPage.getUid() + "..");

      // Approving CMSContentPage
      cmsContentPage.setApprovalStatus("APPROVED");
      updatedCMSContentPageOpt = cmsItemService.updateCMSContentPage(cmsContentPage);

      if(!updatedCMSContentPageOpt.isPresent()) {
         context.logWarning("Approving content page " + cmsContentPage.getUid() + " failed!");
      }
   }
};

context.setProperty("sapcc_additional_contentpage_update", contentPageAdditionalUpdate);</code></pre>
</div>
</div>
<div class="paragraph">
<p>An identical, second schedule is created by a subsequent duplication of the existing schedule.
Without any further configuration, both schedules would write into the Content Catalog that is selected as the <code>Content Catalog Version</code> in the <a href="#configContent">Content tab</a> of the project component.
In the reference project, this is the Staged Content Catalog.</p>
</div>
<div class="paragraph">
<p>In order for the second schedule to write into the online content catalog, the parameter <code>catalogVersion</code> must be added to the properties of the schedule action <code>SAPCC - Bulk Update</code> and configured with the value <code>Online</code>.
If the value is missing or the configuration is incorrect, the bulk update terminates and an exception occurs.
Otherwise, the log contains the information about which content catalog is used for deployment.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/schedule-parameter.png" alt="schedule parameter">
</div>
<div class="title">Figure 13. Parameter catalogVersion</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If, as described in this section, writing to the Online Content Catalog is done by a separate schedule, the <em>{c}</em> generation must be adjusted in the schedule that writes to the Staged Content Catalog.
This must fill the <em>Preview {c}</em> equivalent to writing to the Staged Content Catalog.
Information on the necessary adaptation of the <em>{c}</em> generation is contained in the <em>Initialize CaaSGeneration</em> section of the <em>{caasfsmdocen}</em>.</p>
</div>
</td>
</tr>
</table>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script src="../../../../../_/js/site.js"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
