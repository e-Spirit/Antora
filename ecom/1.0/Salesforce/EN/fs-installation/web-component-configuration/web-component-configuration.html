<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: CrownSpirit Documentation</title>
    <link rel="canonical" href="https://e-spirit.github.io/Antora/ecom/1.0/Salesforce/EN/fs-installation/web-component-configuration/web-component-configuration.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://e-spirit.github.io/Antora">CrownSpirit Documentation</a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Cloud</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Headless</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">E-Commerce</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://e-spirit.github.io/Antora/ecom/1.0/Spryker/index.html">Spryker</a>
            <a class="navbar-item" href="https://e-spirit.github.io/Antora/ecom/1.0/Spartacus/index.html">Spartacus</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">FirstSpirit</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://docs.e-spirit.com/lp/?locale=en&main=firstspirit&sub=editors">Editors</a>
            <a class="navbar-item" href="https://docs.e-spirit.com/lp/?locale=en&main=firstspirit&sub=developers">Developers</a>
            <a class="navbar-item" href="https://docs.e-spirit.com/lp/?locale=en&main=firstspirit&sub=administrators">Administrators</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Crownpeak</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ecom" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../../../index.html">E-Commerce</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../../Spryker/index.html">Spryker</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../../Spryker/EN/spryker-installation/spryker-installation.html">Spryker - Installation and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../../Spryker/EN/fs-installation/fs-installation.html">FirstSpirit - Installation and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../../Spryker/EN/referenceproject/referenceproject.html">Reference Project</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../../Spryker/EN/use-cases/use-cases.html">Use Cases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../../Spryker/EN/legal-notice.html">Legal Notice</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Spartacus</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../../Spartacus/chapters/introduction.html">Main Documentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../../Spartacus/chapters/sapcc-installation/sapcc-installation.html">Spartacus - Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../../Spartacus/chapters/fs-installation/fs-installation.html">FirstSpirit - Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../../Spartacus/chapters/referenceproject/referenceproject.html">Reference Project</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../../Spartacus/chapters/use-cases/use-cases.html">Use Cases</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../../Spartacus/FS_Connect_SAP_hl_ServeradminManual_EN.html">Admin Manual</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../index.html">Salesforce</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">SAP Classic</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../../SAP_Classic/firstspiritconnect-sap-documentation_EN.html">Main Documentation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../../SAP_Classic/firstspiritconnect-sap-admindoc_EN.html">Admin Manual</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">E-Commerce</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../../../component-b/1.0/index.html">CrownSpirit Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../../component-b/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../../dxm/1.0/index.html">DXM</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../../dxm/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../../../index.html">E-Commerce</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../../index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../../cloud/1.0/index.html">FirstSpirit Cloud</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../../cloud/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../../fsxa-pwa/1.3.0/index.html">FSXA-PWA</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../../fsxa-pwa/1.3.0/index.html">1.3.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../../fsxa-ui/4.1.0/index.html">FSXA-UI</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../../fsxa-ui/4.1.0/index.html">4.1.0</a>
        </li>
        <li class="version">
          <a href="../../../../../../fsxa-ui/3.0.0/index.html">3.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../../headless/1.0/index.html">Headless</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../../headless/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../../../component-b/1.0/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/pahl-espirit/ecom/edit/main/modules/Salesforce/pages/EN/fs-installation/web-component-configuration/web-component-configuration.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect2">
<h3 id="webconf"><a class="anchor" href="#webconf"></a>Configuration of the web component</h3>
<div class="paragraph">
<p>Part of the web component of the <em>{modulname}</em> module are the {proxy} and the {filter}.
Both components can be configured via the <code>web.xml</code> and are described in more detail in the following two chapters.</p>
</div>
<div class="sect3">
<h4 id="previewproxy"><a class="anchor" href="#previewproxy"></a>{proxy}</h4>
<div class="paragraph">
<p>If problems with cross-origin requests occur during the preview due to the same-origin policy of modern web servers, then these can be remedied by using the {proxy} included in the <em>{modulname}</em> module.</p>
</div>
<div class="paragraph">
<p>To do this, the calls to the resources concerned must be routed via the {proxy}.
The <a href="#uc_preview_proxy">Preview</a> chapter explains how this is done in the project.</p>
</div>
<div class="paragraph">
<p>The {proxy} is configurable via the <code>web.xml</code> with the following parameter:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 19.2307%;">
<col style="width: 19.2307%;">
<col style="width: 61.5386%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">connection.keepalive</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Duration of maintaining a connection within the {proxy} in seconds. Too high values may cause problems when loading resources.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="paragraph">
<p>An example snippet of the <code>web.xml</code>, in which the {proxy}'s parameter is configured and the preconfigured URL path has been adjusted, might look as follows:</p>
</div>
<div class="listingblock">
<div class="title">Example web.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;servlet&gt;
    &lt;servlet-name&gt;ContentConnectPreviewProxy&lt;/servlet-name&gt;
    &lt;servlet-class&gt;com.espirit.moddev.demandware.preview.proxy.ProxyServlet&lt;/servlet-class&gt;
    &lt;load-on-startup&gt;0&lt;/load-on-startup&gt;
    &lt;init-param&gt;
      &lt;param-name&gt;connection.keepalive&lt;/param-name&gt;
      &lt;param-value&gt;120&lt;/param-value&gt;
   &lt;/init-param&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;ContentConnectPreviewProxy&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/assets/*&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="previewfilter"><a class="anchor" href="#previewfilter"></a>{filter}</h4>
<div class="paragraph">
<p>The <code>{modulname} {filter}</code> determines the necessary information for displaying a page in the <a href="#uc_preview">{fs} preview</a>.
In the slot-based approach, it identifies the correct storefront URL for this purpose, downloads the HTML on the basis of this URL, and substitutes the slots it contains with the corresponding editorial content.
If the <code>CI API</code> is being used, however, it has the Velocity fragments maintained in {fs} evaluated on the {sf} side, and displays the result at the corresponding point on the page in the <a href="#uc_preview">{fs} preview</a>.</p>
</div>
<div class="paragraph">
<p>To carry out these steps, the filter requires some information that can be configured via various parameters in the <code>web.xml</code> of the <a href="#wcomp">added web components</a> (for the Preview as well as {wc}).
This information relates to various aspects, which can be divided into four groups.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>web.xml</code> of the <a href="#wcomp">added web component</a> added in the tab <code>preview</code> requires the adjustment of the parameter <code>dispatcher</code>.
By default, the <code>web.xml</code> contains the value <code>FORWARD</code> for this parameter.
However, in the case of the preview in the {jc}, it requires the value <code>REQUEST</code> and must be replaced accordingly.</p>
</div>
<div class="listingblock">
<div class="title">Adjustment in the web.xml for the preview in the {jc}</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;filter-mapping&gt;
   &lt;filter-name&gt;ContentConnectPreviewFilter&lt;/filter-name&gt;
   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
   &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;
&lt;/filter-mapping&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Beyond that, a configuration of the individual parameters is only necessary if their default values do not match the project-specific conditions.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Storefront URL parameters</strong></p>
</div>
<div class="paragraph">
<p>As described previously, the <code>{filter}</code> determines the necessary information on the {sf} side - both in the slot-based approach and when using the <code>CI API</code>.
It then displays this information in the <a href="#uc_preview">{fs} preview</a>.
To do this, a project-specific storefront URL is required.
As this is maintained in the <a href="#project_settings">project settings</a>, the <code>{filter}</code> requires the associated input component to be specified for its query.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 19.2307%;">
<col style="width: 19.2307%;">
<col style="width: 61.5386%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storefront.url.baseUrlFormField</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ps_storefrontUrlBaseUrl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The input component for specifying the storefront&#8217;s base URL, which is extended with the page type and the ID of the element to be displayed (e.g., product, category, or asset ID).
The component is maintained in the project settings.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The syntax for the storefront base URL can be found in the <a href="https://documentation.demandware.com/DOC2/topic/com.demandware.dochelp/SearchEngineOptimization/DigitalURLSyntaxWithoutSEO.html">menu:Merchandising Your Site[Search Engine Optimization&gt;URL Syntax&gt;Salesforce B2C Commerce URL Syntax Without SEO</a>] chapter of the {sf} {ccloud} documentation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>As a value of the input component <code>ps_storefrontUrlBaseUrl</code>, only up to the locale, <strong>not</strong> the entire URL must be entered within the <a href="#project_settings">project settings</a>.</p>
</div>
<div class="paragraph">
<p>E.g.: https://www.mystore.com/on/demandware.store/â€‹Sites-YourShopHere-Site/</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Changes to the <a href="#project_settings">project settings</a> do not take effect straight away, as they are saved in the session of the user.
They require the client to be restarted.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Storefront Crop Marks parameters</strong></p>
</div>
<div class="paragraph">
<p>The placeholders included in the editorial content consist of a start as well as an end comment and have the format <code>&lt;!-- CMS-&lt;IDENTIFIER&gt;-START -&#8594;</code> or <code>&lt;!-- CMS-&lt;IDENTIFIER&gt;-END -&#8594;</code> by default.
However, the use of individual affixes can be activated via a toggle in the <a href="#project_settings">project settings</a>, which must be added if necessary.
In this case, the default values are overwritten and specific prefixes and suffixes are used instead.
In order to grant the <code>{filter}</code> access to this information, it requires the associated input components to be specified.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 19.2307%;">
<col style="width: 19.2307%;">
<col style="width: 61.5386%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storefront.cropMarks. customAffixes.enabledFormField</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ps_storefrontCropMarksCustomAffixesEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The toggle in the project settings for (de)activating the use of individual affixes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storefront.cropMarks. opening.prefixFormField</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ps_storefrontCropMarksOpeningPrefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The input component in the project settings for specifying a prefix for the start comment.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storefront.cropMarks. opening.suffixFormField</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ps_storefrontCropMarksOpeningSuffix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The input component in the project settings for specifying a suffix for the start comment.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storefront.cropMarks. closing.prefixFormField</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ps_storefrontCropMarksClosingPrefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The input component in the project settings for specifying a prefix for the end comment.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storefront.cropMarks. closing.suffixFormField</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ps_storefrontCropMarksClosingSuffix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The input component in the project settings for specifying a suffix for the end comment.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Storefront protection parameters</strong></p>
</div>
<div class="paragraph">
<p>It is possible to protect the connection to {ccloud} via an authentication.
This can be (de)activated in {sf} and must be applied to {fs} via the corresponding toggle in the <a href="#project_settings">project settings</a>.
If it is activated, the required access data must also be specified.
The <code>{filter}</code> must be able to access this information and therefore requires the associated input components to be specified.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 19.2307%;">
<col style="width: 19.2307%;">
<col style="width: 61.5386%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storefront.protection.enabledFormField</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ps_storefrontProtectionEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The input component in the project settings for (de)activating the authentication for the storefront URL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storefront.protection.userFormField</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ps_storefrontProtectionUser</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The input component in the project settings for registering the storefront user.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storefront.protection.passwordFormField</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ps_storefrontProtectionPassword</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The input component in the project settings for the password of the storefront user.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Storefront downloader parameters</strong></p>
</div>
<div class="paragraph">
<p>In addition to the other parameters, which are primarily used to determine the correct storefront URL, in the slot-based approach it must be possible to control the behavior of the <code>{filter}</code> while the HTML of the corresponding page is downloading.
For this, it has different parameters, which can be maintained in the <a href="#project_settings">project settings</a>.
The <code>{filter}</code> must be able to access this information and therefore requires the associated input components to be specified.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The storefront downloader parameters are used to initialize the filter in the slot-based approach.
As a result, they have a fixed fallback value for cases with a missing or empty input component.</p>
</div>
</td>
</tr>
</table>
</div>
<table id="storefront-download-parameter" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 19.2307%;">
<col style="width: 19.2307%;">
<col style="width: 61.5386%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storefront.downloader.maxConnections</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ps_storefrontDownloaderMaxConnections</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The input component in the project settings for specifying the maximum permissible number of parallel connections to Storefront.<br>
The fallback value is 100.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storefront.downloader.socketTimeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ps_storefrontDownloaderSocketTimeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The input component in the project settings for specifying the time span (in milliseconds) in which a response from Storefront is expected.<br>
The fallback value is 10000.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storefront.downloader.retryCount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ps_storefrontDownloaderRetryCount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The input component in the project settings for specifying the maximum number of connection attempts.<br>
The fallback value is 3.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The use of the following two parameters is only recommended in exceptional cases, as they bypass the certificate check for <code>https</code> requests.
This may be necessary if certificate errors prevent the preview from being displayed and the problem can not be resolved on the server side.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 19.2307%;">
<col style="width: 19.2307%;">
<col style="width: 61.5386%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storefront.downloader.certificatesCheck</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Setting this parameter to <code>false</code> disables certificate checks for <code>https</code> requests.
As a result, all <code>https</code> requests for viewing the preview will be blocked initially.
To allow requests against individual pages, the host name of the corresponding pages must be entered in the <code>sslWhitelist</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storefront.downloader.sslWhitelist</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">empty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the certificate check is deactivated, the host names to be excluded from the blocking are maintained via the <code>sslWhitelist</code>.
Several host names have to be entered as a comma-separated list.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Storefront Cache Parameter</strong></p>
</div>
<div class="paragraph">
<p>The HTML of slot-based pages downloaded by the <code>{filter}</code> is stored in a cache so that it does not have to be retrieved from the {ccloud} every time it is called.
Such a cache exists across sessions for each project on the {fs} server.
This cache has some parameters that can be maintained in the <a href="#project_settings">project settings</a>.
The <code>{filter}</code> must be able to access this information and therefore needs to specify the associated input components.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Like the <a href="#storefront-download-parameter">downloader parameters</a>, the cache parameters are used to initialize the filter in the slot-based approach.
For this reason they have a fixed fallback value in case of a missing or empty input component.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 19.2307%;">
<col style="width: 19.2307%;">
<col style="width: 61.5386%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storefront.cache.maxEntries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ps_storefrontDownloaderMaxCacheEntries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The input component in the project settings for specifying the maximum number of elements in the cache.<br>
The fallback value is 500.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storefront.cache.refreshAfterWrite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ps_storefrontCacheRefreshAfterWrite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The input component in the project settings for specifying the time span (in hours) until an element in the cache is marked as obsolete.<br>
The fallback value is 1.<br>
If an entry is marked as obsolete, it will be retrieved asynchronously from the {ccloud} at the next request.
Until this process is completed, the cache returns the obsolete entry, so there is no delay.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storefront.cache.expireAfterWrite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ps_storefrontCacheExpireAfterWrite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The input component in the project settings for specifying the time span (in hours) until an item in the cache is marked as removable.<br>
The fallback value is 24.<br>
If an entry is marked as removable, it can be displaced from the cache by new elements.
If an item is requested again after being displaced, it must be retrieved from the {ccloud} again.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storefront.cache.excludePatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ps_storefrontCacheExcludePatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The input component in the project settings for specifying storefront URLs that should not be kept in the cache.
The URLs are specified in the form of a list of regular expressions.<br>
The fallback value is an empty list.<br>
Each element of the list component must have a text field named <code>st_storefrontCacheExcludePattern</code> containing the regular expression.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="paragraph">
<p>An example snippet of the <code>web.xml</code>, in which two parameters of the {filter} are configured, might look like as follows:</p>
</div>
<div class="listingblock">
<div class="title">Example web.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;filter&gt;
   &lt;filter-name&gt;ContentConnectPreviewFilter&lt;/filter-name&gt;
   &lt;filter-class&gt;com.espirit.moddev.demandware.preview.PreviewFilter&lt;/filter-class&gt;
   &lt;init-param&gt;
      &lt;param-name&gt;storefront.downloader.socketTimeout&lt;/param-name&gt;
      &lt;param-value&gt;ps_myCustomStorefrontDownloaderSocketTimeout&lt;/param-value&gt;
   &lt;/init-param&gt;
   &lt;init-param&gt;
      &lt;param-name&gt;storefront.downloader.retryCount&lt;/param-name&gt;
      &lt;param-value&gt;ps_myCustomStorefrontDownloaderRetryCount&lt;/param-value&gt;
   &lt;/init-param&gt;
&lt;/filter&gt;</code></pre>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../../../_/js/site.js"></script>
<script async src="../../../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
