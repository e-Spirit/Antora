<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: CrownSpirit Documentation</title>
    <link rel="canonical" href="https://e-spirit.github.io/Antora/ecom/1.0/Salesforce/EN/introduction.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../_'</script>
    <link rel="icon" href="../../../../_/img/shortcut-icon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://e-spirit.github.io/Antora">CrownSpirit Documentation</a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Cloud</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Headless</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">E-Commerce</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://e-spirit.github.io/Antora/ecom/1.0/Spryker/index.html">Spryker</a>
            <a class="navbar-item" href="https://e-spirit.github.io/Antora/ecom/1.0/Spartacus/index.html">Spartacus</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">FirstSpirit</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://docs.e-spirit.com/lp/?locale=en&main=firstspirit&sub=editors">Editors</a>
            <a class="navbar-item" href="https://docs.e-spirit.com/lp/?locale=en&main=firstspirit&sub=developers">Developers</a>
            <a class="navbar-item" href="https://docs.e-spirit.com/lp/?locale=en&main=firstspirit&sub=administrators">Administrators</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Crownpeak</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ecom" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">E-Commerce</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../Spryker/index.html">Spryker</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Spryker/EN/spryker-installation/spryker-installation.html">Spryker - Installation and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Spryker/EN/fs-installation/fs-installation.html">FirstSpirit - Installation and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Spryker/EN/referenceproject/referenceproject.html">Reference Project</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Spryker/EN/use-cases/use-cases.html">Use Cases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Spryker/EN/legal-notice.html">Legal Notice</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Spartacus</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../Spartacus/chapters/introduction.html">Main Documentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../Spartacus/chapters/sapcc-installation/sapcc-installation.html">Spartacus - Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../Spartacus/chapters/fs-installation/fs-installation.html">FirstSpirit - Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../Spartacus/chapters/referenceproject/referenceproject.html">Reference Project</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../Spartacus/chapters/use-cases/use-cases.html">Use Cases</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Spartacus/FS_Connect_SAP_hl_ServeradminManual_EN.html">Admin Manual</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Salesforce</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">SAP Classic</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../SAP_Classic/firstspiritconnect-sap-documentation_EN.html">Main Documentation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../SAP_Classic/firstspiritconnect-sap-admindoc_EN.html">Admin Manual</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">E-Commerce</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../component-b/1.0/index.html">CrownSpirit Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../component-b/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../dxm/1.0/index.html">DXM</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../dxm/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../index.html">E-Commerce</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../cloud/1.0/index.html">FirstSpirit Cloud</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../cloud/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../fsxa-pwa/1.3.0/index.html">FSXA-PWA</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../fsxa-pwa/1.3.0/index.html">1.3.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../fsxa-ui/4.1.0/index.html">FSXA-UI</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../fsxa-ui/4.1.0/index.html">4.1.0</a>
        </li>
        <li class="version">
          <a href="../../../../fsxa-ui/3.0.0/index.html">3.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../headless/1.0/index.html">Headless</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../headless/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../component-b/1.0/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/pahl-espirit/ecom/edit/main/modules/Salesforce/pages/EN/introduction.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>{fs} is used for creating versatile and project-specific content.
Thanks to the <em>{modulname}</em> module, it is now possible to transfer this content to the {sf} {ccloud} e-commerce shop system and use it there.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In the remainder of this document, the abbreviated form &#8220;{ccloud}&#8221; will be used instead of &#8220;{sf} {ccloud}&#8221;.
This abbreviated form refers to {sf} {ccloud} in all cases.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The module combines the functional strengths of both systems,
delivering the key advantages that each offers and creating a highly effective overall system made up of two areas that work in parallel and are largely decoupled from one another:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Components on the {fs} side</em></dt>
<dd>
<p>These components are used for creating and maintaining editorial data, which is transferred to {ccloud} in the form of XML files and media.</p>
</dd>
<dt class="hdlist1"><em>Components on the {ccloud} side</em></dt>
<dd>
<p>These components are used for processing editorial content created in {fs}.
{ccloud} integrates this data into the shop and transfers it to the live state.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>A part of the delivery of the <em>{modulname}</em> module is a  , including a reference project and various cartridge components, which in large part are set up on the {mfra}.
This documentation is consistently based on the reference project and provides an explanation of the functions made available by the module using common use cases.
Description is given from the view of an editor as well as a {fs} developer.</p>
</div>
<div class="sect2">
<h3 id="_range_of_functions"><a class="anchor" href="#_range_of_functions"></a>Range of functions</h3>
<div class="paragraph">
<p><em>{modulname}</em> allows editors to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create native {ccloud} content using {fs}</p>
</li>
<li>
<p>Access product information via the <code>Open Commerce API</code> (OC API)</p>
</li>
<li>
<p>Display shop elements and editorial content in the {fs} preview simultaneously</p>
</li>
<li>
<p>Transfer content to the {ccloud} storage location via <code>WebDAV</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The corresponding functions are made available in both the {jc} and the {wc} when the module is installed and configured.</p>
</div>
<div class="paragraph">
<p>Familiar {fs} tools are used to maintain the content, meaning that editors who are already familiar with {fs} do not require any additional knowledge.
The content is made available to {ccloud} as part of a deployment so that it can be imported.
{ccloud} then transfers the information to the live state.</p>
</div>
<div class="paragraph">
<p>As far as {ccloud} is concerned, this means there is no difference when it comes to delivering editorial content to the live state.
Even if the {fs} server is shut down because of maintenance work, for example, this has no effect on {ccloud}.</p>
</div>
</div>
<div class="sect2">
<h3 id="_architecture"><a class="anchor" href="#_architecture"></a>Architecture</h3>
<div class="paragraph">
<p>{fs} and {ccloud} are linked by an architecture made up of a range of components (see figure <a href="#img_architecture">Architecture</a>).
These components are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The modules installed on the {fs} server:</p>
<div class="ulist">
<ul>
<li>
<p>{modulname} module</p>
</li>
<li>
<p>WebDAV module</p>
</li>
<li>
<p>JSTL module</p>
</li>
</ul>
</div>
</li>
<li>
<p>{ccloud} instances (Staging &amp; Production)</p>
</li>
</ul>
</div>
<div id="img_architecture" class="imageblock">
<div class="content">
<img src="../_images/architecture.png" alt="architecture">
</div>
<div class="title">Figure 1. Architecture</div>
</div>
<div class="paragraph">
<p>The individual components always interact in accordance with the following schema:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The editorial content is created and edited in {fs}.
The content replaces placeholders in the HTML framework; however, the framework - like the products displayed on the live page - comes from {ccloud}.
It is transferred via <code>https</code> to {fs}, where it is required in order to display the preview in full.
For product and category pages, this also requires communication with controllers that are part of the delivered cartridge.
Products are transferred to {fs} via the <code>OC API</code> interface of the {ccloud} Staging instance.
This interface is also used to start various actions in the {ccloud}.</p>
</li>
<li>
<p>All content changes carried out in {fs} are made available to the {ccloud} Staging instance via <code>WebDAV</code> as part of a deployment.
They are stored in various <code>WebDAV</code> directories in the form of media and XML files.
From this point, they are then imported into the {ccloud} Staging instance library via jobs, which are initiated by a deployment action.</p>
</li>
<li>
<p>This library is replicated in the live {ccloud} instance together with the product catalog.
As far as {ccloud} is concerned, this means there is no difference when it comes to delivering editorial content to the live state.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>{ccloud} thus represents the main component in this architecture.
It delivers the content that has been created and/or maintained in {fs} to the customer and provides all shop functions.
There is only one loose link between the two systems; they primarily work in parallel with one another.
If the {fs} server is shut down because of maintenance work, for example, this has no effect on {ccloud}.</p>
</div>
</div>
<div class="sect2">
<h3 id="_concept"><a class="anchor" href="#_concept"></a>Concept</h3>
<div class="paragraph">
<p>The <em>{modulname}</em> module enables editorial content to be maintained in {fs} and this to be transferred into {ccloud} via deployment.
For this, the processing of content in both systems must be coordinated and be mutually compatible.
The sub-chapters below describe the underlying concept used to achieve this compatibility.</p>
</div>
<div class="sect3">
<h4 id="slot_concept"><a class="anchor" href="#slot_concept"></a>Pages</h4>
<div class="paragraph">
<p>Similar to {fs}, the pages in {ccloud} are based on a structure of various components.
To enable editorial content to be exchanged between both systems, these components must be coordinated.</p>
</div>
<div class="paragraph">
<p>Within the reference project <em>{projectname}</em> included in the delivery, the slots are represented by the content areas of a page template.
Sections can be added to them; each one corresponds to an asset and, depending on the use cases, also has a slot configuration (see figure <a href="#rendering">Page Rendering</a>).
With the aid of these configurations, it is possible to define which target group can see the corresponding content, or for how long this remains visible, for example.
Each slot configuration refers to exactly one asset.</p>
</div>
<div class="paragraph">
<p>With FirstSpirit assets can thus be generated that are displayed on a page via slots.</p>
</div>
<div id="rendering" class="imageblock">
<div class="content">
<img src="../_images/salesforce.png" alt="salesforce">
</div>
<div class="title">Figure 2. Page Rendering</div>
</div>
</div>
<div class="sect3">
<h4 id="_preview"><a class="anchor" href="#_preview"></a>Preview</h4>
<div class="paragraph">
<p>The integration effected by the <em>{modulname}</em> module only allows {fs} to generate and maintain editorial content and to publish it in the form of assets.
{ccloud}, however, continues to determine the framework of a page, whose slots integrate the generated assets.</p>
</div>
<div class="paragraph">
<p>To present the preview of a page, {fs} therefore determines its current view in {ccloud} Storefront and downloads the HTML.
The slots it contains are uniquely labeled with HTML comments.
{fs} substitutes these areas with the appropriate editorial content and displays the result in the preview.</p>
</div>
</div>
<div class="sect3">
<h4 id="_velocity"><a class="anchor" href="#_velocity"></a>Velocity</h4>
<div class="paragraph">
<p>{sf} provides the <code>Content Integration API (CI API)</code> as an alternative to the <a href="#slot_concept">slot-based approach</a> described previously.
This API enables Velocity fragments to be evaluated on the {sf} side, and therefore provides an easy way of implementing business logic on a page.
In addition, it affords editors more control over the page layout than they have in the slot-based approach.
The Velocity fragments, including the business logic, are maintained within {fs}.</p>
</div>
</div>
<div class="sect3">
<h4 id="_languages"><a class="anchor" href="#_languages"></a>Languages</h4>
<div class="paragraph">
<p>Editorial content is maintained in different languages on both the {sf} and the {fs} side.
For integration, an assignment between the languages of both systems is therefore required.
For this, a convention has been adopted for the languages used in the reference project, which relates to their abbreviation defined in {fs}.
This is oriented towards the existing languages in {sf} and ensures every abbreviation is designated in accordance with the formula <code>LANGUAGE CODE_COUNTRY CODE</code> (see figure <a href="#img_languages">Languages</a>).
The language code corresponds to ISO 639 and the country code to ISO 3166.</p>
</div>
<div class="paragraph">
<p>Furthermore, in the project it is ensured that the {fs} master language is assigned to the default language in {sf}.</p>
</div>
<div id="img_languages" class="imageblock">
<div class="content">
<img src="../_images/languages.png" alt="languages">
</div>
<div class="title">Figure 3. Languages</div>
</div>
<div class="paragraph">
<p>This information is presented in more detail in the <a href="#generation">Generation</a> and <a href="#hp">Homepage</a> chapters.</p>
</div>
</div>
<div class="sect3">
<h4 id="generation_and_deployment"><a class="anchor" href="#generation_and_deployment"></a>Generation &amp; deployment</h4>
<div class="paragraph">
<p>It is {ccloud} that transfers the content created in {fs} to the live state.
The content must be made available to {ccloud} in the form of two XML files, which have been created during generation.
While one of these files contains all the slot configurations created in the {fs} project, the second contains all the assets.</p>
</div>
<div class="paragraph">
<p>The <a href="#wddeployment">WebDAV deployment</a> transfers both XML files together with the generated media to {ccloud} and stores them in the {ccloud} storage location.
From this point, they are then imported via a <a href="#sfcc_job_schedules">job schedule</a>, which is initiated by means of the {fs} schedule.</p>
</div>
</div>
<div class="sect3">
<h4 id="_delete"><a class="anchor" href="#_delete"></a>Delete</h4>
<div class="paragraph">
<p>The content of a {fs} project can be changed or deleted at any time as part of the usual editorial process.
These changes have to be applied to {sf}.
In the same way that new content is transferred, it is also deleted by means of <a href="#schedule">deployment</a>.</p>
</div>
<div class="paragraph">
<p>A current time stamp is added to all assets and slot configurations at the start of each full generation.
Therefore, its time stamp diverges from the time stamps of the content, which is still present in {sf}, but which has already been deleted in the {fs} project.
The last action of the generation schedule identifies the assets and slot configurations with an outdated time stamp and triggers their deletion.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_technical_requirements"><a class="anchor" href="#_technical_requirements"></a>Technical requirements</h3>
<div class="paragraph">
<p>The <em>{modulname}</em> module has the following technical requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>{fs} version: {fs} (isolated or legacy mode) since 2020-01</p>
</li>
<li>
<p>{ccloud} e-commerce shop system</p>
</li>
<li>
<p>{mfra} version 4.4.1</p>
</li>
<li>
<p>e-Spirit LINK Cartridges <code>int_espirit_core</code>, <code>int_espirit_sfra</code> resp. <code>int_espirit_sitegenesis</code> version 20.1.0</p>
</li>
<li>
<p>Open Commerce API version 19.5 (Compatibility Mode 18.10 or 19.10)</p>
</li>
<li>
<p>Latest JSTL version (provided with the <a href="#jstlmodule">JSTL module</a>)</p>
</li>
<li>
<p>Java 11 or higher</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="hints"><a class="anchor" href="#hints"></a>Important information</h3>
<div class="paragraph">
<p>This section contains information that should be noted when using the <em>{modulname}</em> module.</p>
</div>
<div class="sect3">
<h4 id="_content_asset_id"><a class="anchor" href="#_content_asset_id"></a>Content asset ID</h4>
<div class="paragraph">
<p>Content assets that are created in {fs} get a unique ID from {fs}.
If a content asset with the exact same ID is created in {ccloud}, this is overwritten by {fs} when it is deployed.</p>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
