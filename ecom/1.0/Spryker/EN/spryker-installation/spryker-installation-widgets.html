<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: CrownSpirit Documentation</title>
    <link rel="canonical" href="https://e-spirit.github.io/Antora/ecom/1.0/Spryker/EN/spryker-installation/spryker-installation-widgets.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../../_'</script>
    <link rel="icon" href="../../../../../_/img/shortcut-icon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://e-spirit.github.io/Antora">CrownSpirit Documentation</a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Cloud</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Headless</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">E-Commerce</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">FirstSpirit</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Crownpeak</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ecom" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../../index.html">E-Commerce</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-text">Welcome</span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../index.html">Spryker</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../introduction/introduction.html">Introduction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../introduction/functions.html">Range of functions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../introduction/architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../introduction/concept.html">Concept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../introduction/requirements.html">Technical requirements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../introduction/important-information.html">Important information</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="spryker-installation.html">Spryker - Installation and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../fs-installation/fs-installation.html">FirstSpirit - Installation and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../referenceproject/referenceproject.html">Reference Project</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../Spartacus/index.html">Spartacus</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">E-Commerce</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../../component-b/dev/index.html">CrownSpirit Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../component-b/dev/index.html">dev</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../../index.html">E-Commerce</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../fsxa-pwa/1.3.0/index.html">FSXA-PWA</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../fsxa-pwa/1.3.0/index.html">1.3.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../fsxa-ui/4.1.0/index.html">FSXA-UI</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../fsxa-ui/4.1.0/index.html">4.1.0</a>
        </li>
        <li class="version">
          <a href="../../../../../fsxa-ui/3.0.0/index.html">3.0.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../../component-b/dev/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/pahl-espirit/ecom/edit/main/modules/Spryker/pages/EN/spryker-installation/spryker-installation-widgets.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect2">
<h3 id="sp_widgets"><a class="anchor" href="#sp_widgets"></a>Widgets</h3>
<div class="paragraph">
<p>In addition to the <a href="#sp_modules">modules</a> and the <a href="#sp_plugin">plugins</a> the delivery contains the following widgets.
They enable the expandability of the <a href="#rp_navigation">navigations</a> contained in the shop, as well as the usage of the <a href="#rp_links">DOM references</a> and the <a href="#sp_twigtemplates">Shoppable Image</a> contained in the reference project.
Only if these elements are used a registration of the widgets is required.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>{fs}PreviewContentNavigationWidget</code></p>
</li>
<li>
<p><code>{fs}CategoryLinkWidget</code></p>
</li>
<li>
<p><code>{fs}ProductLinkWidget</code></p>
</li>
<li>
<p><code>{fs}ContentLinkWidget</code></p>
</li>
<li>
<p><code>{fs}ExternalLinkWidget</code></p>
</li>
<li>
<p><code>{fs}ProductFlyoutWidget</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="underline"><strong>{fs}PreviewContentNavigationWidget</strong></span><br>
The <code>{fs}PreviewContentNavigationWidget</code> creates the possibility to maintain the navigations contained in the store with {fs} and to add further menu items.
It replaces the existing <code>ContentNavigationWidget</code> in   and provides various attributes required for displaying the corresponding navigation in the preview.
Therefore the existing <code><strong>ContentNavigationWidget</strong></code>, which is stored under the path <code><strong>/src/Pyz/Yves</strong></code> in  , has to be replaced by the <code><strong>{fs}PreviewContentNavigationWidget</strong></code> included in the delivery.
Finally, the use of the <code>{fs}PreviewContentNavigationWidget</code> requires a registration.
This is done by modifying the <code>TwigDependencyProvider</code> in the directory <code><strong>/src/Pyz/Yves/Twig/</strong></code>,
in which the <code>ContentNavigationTwigPlugin</code> has to be replaced by the <code>{fs}PreviewNavigationWidgetTwigPlugin</code>.</p>
</div>
<div class="listingblock">
<div class="title">Adaptation of the TwigDependencyProviders</div>
<div class="content">
<pre>&lt;?php

namespace Pyz\Yves\Twig;

use ESpirit\Yves\FirstSpiritPreviewNavigationWidget\Plugin\Twig\FirstSpiritPreviewNavigationWidgetTwigPlugin;
[...]

class TwigDependencyProvider extends SprykerTwigDependencyProvider
{
   [...]

   protected function getTwigPlugins(): array
   {
      return [
         [...]
         new FirstSpiritPreviewNavigationWidgetTwigPlugin(),
      ];
   }

   [...]
}</pre>
</div>
</div>
<div class="paragraph">
<p><span class="underline"><strong>{fs}CategoryLinkWidget und {fs}ProductLinkWidget</strong></span><br>
The <code>{fs}CategoryLinkWidget</code> and the <code>{fs}ProductLinkWidget</code> are used to display editorial DOM links to category or product detail pages.
In both cases, the widget determines the corresponding category or product using a unique identifier and passes the result to the Twig template that controls the display of the respective link in  .
Each of the two widgets references its corresponding Twig template.
The Twig templates are provided by the previously installed {fs}Preview module.</p>
</div>
<div class="paragraph">
<p><span class="underline"><strong>{fs}ContentLinkWidget und {fs}ExternalLinkWidget</strong></span><br>
The <code>{fs}ContentLinkWidget</code> and the <code>{fs}ExternalLinkWidget</code> enable DOM links to editorial content, whereby the type of content differs in each case.
The <code>{fs}ExternalLinkWidget</code> only allows the referencing of external content.
In contrast, the <code>{fs}ContentLinkWidget</code> is used to display internal DOM links to <a href="#rp_contentpage">dynamic content pages</a> or <a href="#rp_magazine">magazine articles</a> maintained within the {fs} project.
An important aspect is that the target URL of the internal links to dynamic content pages depends on the output:
While the link in the live state refers to the published CMS page, the corresponding preview URL must be used in the preview.
In both cases, the widget controls the determination of the required URL.</p>
</div>
<div class="paragraph">
<p><span class="underline"><strong>{fs}ProductFlyoutWidgets</strong></span><br>
The registration of the <code>{fs}ProductFlyoutWidget</code> is only required if the Shoppable Image provided with the delivery is used in the project.
The widget controls the display of flyouts for the products linked to the Shoppable Image.</p>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Registration</strong></span><br>
The four link widgets and the flyout widget are registered using the following code, which must be added to the <code>ShopApplicationDependencyProvider</code> in the folder <code><strong>src/Pyz/Yves/ShopApplication</strong></code>.</p>
</div>
<div class="listingblock">
<div class="title">Extension of the ShopApplicationDependencyProvider</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-PHP hljs" data-lang="PHP">use ESpirit\Yves\FirstSpiritPreview\Widget\FirstSpiritCategoryLinkWidget;
use ESpirit\Yves\FirstSpiritPreview\Widget\FirstSpiritProductLinkWidget;
use ESpirit\Yves\FirstSpiritPreview\Widget\FirstSpiritContentLinkWidget;
use ESpirit\Yves\FirstSpiritPreview\Widget\FirstSpiritExternalLinkWidget;
use ESpirit\Yves\FirstSpiritPreview\Widget\FirstSpiritProductFlyoutWidget;

[...]

protected function getGlobalWidgets(): array
{
   return [
      [...]
      FirstSpiritCategoryLinkWidget::class,
      FirstSpiritProductLinkWidget::class,
      FirstSpiritContentLinkWidget::class,
      FirstSpiritExternalLinkWidget::class,
      FirstSpiritProductFlyoutWidget::class
   ];
}</code></pre>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script src="../../../../../_/js/site.js"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
