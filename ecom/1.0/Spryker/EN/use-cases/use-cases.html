<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: CrownSpirit Documentation</title>
    <link rel="canonical" href="https://e-spirit.github.io/Antora/ecom/1.0/Spryker/EN/use-cases/use-cases.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../../_'</script>
    <link rel="icon" href="../../../../../_/img/shortcut-icon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://e-spirit.github.io/Antora">CrownSpirit Documentation</a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Cloud</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Headless</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">E-Commerce</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://e-spirit.github.io/Antora/ecom/1.0/Spryker/index.html">Spryker</a>
            <a class="navbar-item" href="https://e-spirit.github.io/Antora/ecom/1.0/Spartacus/index.html">Spartacus</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">FirstSpirit</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Crownpeak</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ecom" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../../index.html">E-Commerce</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-text">Welcome</span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../index.html">Spryker</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../introduction/introduction.html">Introduction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../introduction/functions.html">Range of functions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../introduction/architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../introduction/concept.html">Concept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../introduction/requirements.html">Technical requirements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../introduction/important-information.html">Important information</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../spryker-installation/spryker-installation.html">Spryker - Installation and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../fs-installation/fs-installation.html">FirstSpirit - Installation and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../referenceproject/referenceproject.html">Reference Project</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../Spartacus/index.html">Spartacus</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">E-Commerce</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../../component-b/dev/index.html">CrownSpirit Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../component-b/dev/index.html">dev</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../../index.html">E-Commerce</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../fsxa-pwa/1.3.0/index.html">FSXA-PWA</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../fsxa-pwa/1.3.0/index.html">1.3.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../fsxa-ui/4.1.0/index.html">FSXA-UI</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../fsxa-ui/4.1.0/index.html">4.1.0</a>
        </li>
        <li class="version">
          <a href="../../../../../fsxa-ui/3.0.0/index.html">3.0.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../../component-b/dev/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/pahl-espirit/ecom/edit/main/modules/Spryker/pages/EN/use-cases/use-cases.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect1">
<h2 id="usecases"><a class="anchor" href="#usecases"></a>Use cases</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Within the progress of a project, different situations can arise that require certain steps to be taken.
The following subchapters describe situations that can typically occur in integration projects,
 and describe the necessary steps for resolving them by using the {refproject_github}[reference project] supplied as a reference.</p>
</div>
<div class="sect2">
<h3 id="uc-datasync"><a class="anchor" href="#uc-datasync"></a>Content Exchange</h3>
<div class="paragraph">
<p>The integration requires that the data within the {fs} project, the corresponding <em>{c}</em> instance and in   are consistent to each other.
However, this consistency will be violated by the following situations that may occur during the progress of a project:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Project transfer to a new deployment environment (Dev, Prod, QA)</dt>
<dd>
<p>Creating a new deployment environment always involves importing an existing {fs} project.
The import creates a constellation in which contents already exist in {fs}, whereas the <em>{c}</em> instances and   are empty or have different contents.</p>
</dd>
<dt class="hdlist1">ContentTransport</dt>
<dd>
<p>In contrast to the previous point, which involves the transfer of entire projects to another deployment environment,
the {corpcontentdocen}[ContentTransport] is used to transfer editorial content between two projects.
During the progress of a project, for example, the contents of the production environment can be transferred back to the test and development environment in this way,
to exchange existing test data with real information.</p>
<div class="paragraph">
<p>Contrary to the project transfer, the target project therefore already exists and will not be created.
This implies that the corresponding <em>{c}</em> instances and   also already contain content.
After the ContentTransport these contents differ from those of the {fs} project.</p>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The transfer of content to the <em>Preview {c}</em> and its generation in   is done automatically each time new content is saved.
In contrast, existing content - as in the situations described - would have to be saved again separately for their persistence.
For this reason, the {refproject_github}[reference project] has the schedule <a href="#fs-previewdeployment"><em>  Preview Deployment</em></a>,
which handles both the filling of the <em>Preview {c}</em> and the updating of the preview contents in  .
It is created within the <code><strong>{manager}</strong></code> in the <code><strong>menu:Project properties[Schedule management]</strong></code> area and can only be executed by project administrators.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The schedule requires all configuration steps to have been completed beforehand - on both the {fs} and the   side.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once the schedule has been performed, the <em>Preview {c}</em> is filled with the preview contents of the {fs} project.
Furthermore, on the spryker side, all <a href="#rp_contentpage">content pages</a> and <a href="#rp_magazine">magazine pages</a> included in the project were created in addition to the existing <a href="#rp_staticsite">static pages</a> and <a href="#rp_categorypages">category pages</a>.
Afterwards the contents are available for the editors in the preview.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The schedule <a href="#fs-previewdeployment"><em>  Preview Deployment</em></a> can be executed at any time.
If required, the consistency of the preview data can thus be ensured whenever needed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If, in addition to the consolidation of the preview content, a transfer to the storefront is required, the content needs to be released and published.
The reference project provides a <a href="#fs-wf">workflow</a> for the release, which also enables the <a href="#fs-wf-adaptions">publication of single pages</a>.
In addition, it contains the <a href="#fs-deployment"><em>  Deployment</em></a> schedule, which transfers all released contents of the project to the <em>Online {c}</em> and triggers their import to  .
The schedule can be started by <code>ChiefEditors</code> using the action <code><strong>Publication</strong></code> available in {cc}.</p>
</div>
</div>
<div class="sect2">
<h3 id="uc_navigation"><a class="anchor" href="#uc_navigation"></a>Navigation maintenance</h3>
<div class="paragraph">
<p>In addition to a <a href="#sp_navigation">main navigation</a>, a shop generally has numerous other navigations.
The integration realised with the <em>{modulname}</em> module offers the possibility to maintain these navigations with {fs} and to add further menu items.
This requires the following steps to be carried out first.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The steps described refer to the <strong>enhancement</strong> of an existing navigation.
If instead an existing navigation should be managed completely in {fs}, its menu items must be deleted in  .</p>
</div>
<div class="paragraph">
<p>Alternatively, a new navigation can be maintained in {fs}.
For this, it must first be created in  .</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Replacement of the ContentNavigationWidget</dt>
<dd>
<p>The <a href="#sp_widgets"><code>{fs}PreviewContentNavigationWidget</code></a> contained in the delivery replaces the <code>ContentNavigationWidget</code> existing in  .
In  , therefore, a replacement must be done by deleting the <code>ContentNavigationWidget</code> and adding the <code>{fs}PreviewContentNavigationWidget</code> instead.</p>
</dd>
<dt class="hdlist1">Addition of a further menu item</dt>
<dd>
<p>In the preview, an additional menu item is required to display the navigation.
It serves as a placeholder and must be added within the twig template that represents the first level menu items:</p>
<div class="listingblock">
<div class="title">Addition of a further menu item</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-PHP hljs" data-lang="PHP">[..]
&lt;ul class="menu {{ menuClass }} grid grid--center grid--no-wrap"&gt;
   {% for node in data.nodes %}
      [..]
   {% endfor %}

   {% if isFsPreview() %}
      &lt;li class="fs-navigation-extension"
         style="padding-left: 1rem; transform: translate(0,15% );"&gt;
      &lt;/li&gt;
   {% endif %}
&lt;/ul&gt;
[..]</code></pre>
</div>
</div>
</dd>
<dt class="hdlist1">Definition of the Preview ID</dt>
<dd>
<p>In addition to the placeholder, a preview ID is required for the preview.
It must be defined in the twig template that controls the output of the individual menu items:</p>
<div class="listingblock">
<div class="title">Definition of the Preview ID</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-PHP hljs" data-lang="PHP">{% block attributes %}
   {% if isFsPreview() and data.node.previewId is defined and data.node.previewId is not empty %}
      data-preview-id="{{ data.node.previewId }}" style="min-height: unset;"
   {% endif %}
{% endblock %}</code></pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>After the changes have been made, it may be necessary to empty the cache for the twig templates and to rebuild the frontend.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After a successful completion of the described steps, the corresponding navigation in {cc} is extended by a button, which allows the addition of further menu items.
The addition of further menu items requires the right to edit and delete.
If a user does not have these rights, the button is hidden.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/img_navigation.png" alt="img navigation">
</div>
<div class="title">Figure 1. Button for extending the navigation</div>
</div>
<div class="paragraph">
<p>A click on the button opens an editing dialog, in which a structure folder has to be selected as target of the new menu item.
If the referenced structure folder contains further subfolders, these are automatically displayed as sub-items of the new menu item.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Mixing menu items maintained in {fs} and those originating from   is not possible.
For this reason, menu items created using the {cc} are only appended to the existing navigation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The changes done to the navigation finally require a release.
Therefore, the workflow <a href="#fs-nav-wf"><em>Release Navigation</em></a> can be executed via via a button that appears by hovering over the navigation.
This workflow only performs a release, but not a publication.
The publication of the adaptations only takes place in the context of a <a href="#fs-deployment">full generation</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The button to execute the workflow requires the release right.
If a user does not have this right, hovering over the navigation has no effect.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="uc-pageattributes"><a class="anchor" href="#uc-pageattributes"></a>Maintenance of page attributes</h3>
<div class="paragraph">
<p>In contrast to the sections, the content pages do not have an EasyEdit frame, and so neither the buttons provided with it.
Therefore, no direct editing options are available for content pages in the {cc}.
Because of that, the <code><strong>Actions</strong></code> menu contains the menu item <code><strong>Edit Page</strong></code>, which is only visible for <a href="#rp_contentpage">content pages</a>.
It opens the edit dialog of the page and allows the maintenance of page attributes and metadata.
The attributes are required both for creating the corresponding page in   and for SEO configuration.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/actions_editpage.png" alt="actions editpage">
</div>
<div class="title">Figure 2. Edit Page</div>
</div>
</div>
<div class="sect2">
<h3 id="uc_orphanedpages"><a class="anchor" href="#uc_orphanedpages"></a>Removal of orphaned product and category pages</h3>
<div class="paragraph">
<p>In the course of a project, a  -sided deletion or deactivation of no longer needed products or categories can occur at any time.
However, these are possibly still referenced within the {fs} project.
The deletion or deactivation results in orphaned <a href="#rp_productpages">product</a> and <a href="#rp_categorypages">category pages</a>, which can cause errors and warnings during the import.
These orphaned pages can no longer be accessed and therefore cannot be identified by editors.</p>
</div>
<div class="paragraph">
<p>The {cc} therefore provides the report <code><strong>Lost and Found</strong></code>.
It shows an overview of all orphaned pages within the {fs} project and allows filtering for product or category pages.
Each entry has a delete button that appears when hovering over it and, after confirming a security question, triggers a <a href="#fs-delete-wf-report">delete workflow</a>.
The workflow removes the corresponding page from the {fs} project, releases the parent structure, and finally performs a <a href="#fs-deployment">full deployment</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The execution of the delete workflow requires both delete and release rights.
If the editor is missing one of these rights, the delete button is hidden for him and the removal of orphaned pages is therefore not possible.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/img_lostandfound.png" alt="img lostandfound">
</div>
<div class="title">Figure 3. Report Lost and Found</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script src="../../../../../_/js/site.js"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
