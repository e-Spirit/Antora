<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Navigation Service documentation :: CrownSpirit Documentation</title>
    <link rel="canonical" href="https://e-spirit.github.io/Antora/headless/1.0/Nav_Service_Platform/documentation.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
    <link rel="icon" href="../../../_/img/shortcut-icon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://e-spirit.github.io/Antora">CrownSpirit Documentation</a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Cloud</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Headless</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">E-Commerce</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://e-spirit.github.io/Antora/ecom/1.0/Spryker/index.html">Spryker</a>
            <a class="navbar-item" href="https://e-spirit.github.io/Antora/ecom/1.0/Spartacus/index.html">Spartacus</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">FirstSpirit</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://docs.e-spirit.com/lp/?locale=en&main=firstspirit&sub=editors">Editors</a>
            <a class="navbar-item" href="https://docs.e-spirit.com/lp/?locale=en&main=firstspirit&sub=developers">Developers</a>
            <a class="navbar-item" href="https://docs.e-spirit.com/lp/?locale=en&main=firstspirit&sub=administrators">Administrators</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Crownpeak</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="headless" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Headless</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">CaaS Connect</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../CaaS_Connect/CaaS_Connect_FSM_Documentation_EN.html">Module documentation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../CaaS_Connect/CaaS_Connect_ServerAdministrator_EN.html">Admin Manual</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../CaaS/CaaS_FSM_Documentation_EN.html">Content as a Service</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../CaaS_Platform/CaaS_Platform_Documentation_EN.html">CaaS Platform</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Navigation Service (FSM)</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../Nav_Service_FSM/index.html">Main Documentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../Nav_Service_FSM/chapters/architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../Nav_Service_FSM/chapters/components.html">Components</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../Nav_Service_FSM/chapters/config.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../Nav_Service_FSM/chapters/auth.html">Authentification</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Nav_Service_FSM/Navigation_Service_Serveradmin_Documentation_EN.html">Admin Manual</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="documentation.html">Navigation Service (Platform)</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Headless</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../component-b/1.0/index.html">CrownSpirit Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../component-b/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../dxm/1.0/index.html">DXM</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../dxm/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../ecom/1.0/index.html">E-Commerce</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../ecom/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../cloud/1.0/index.html">FirstSpirit Cloud</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../cloud/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../fsxa-pwa/1.3.0/index.html">FSXA-PWA</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../fsxa-pwa/1.3.0/index.html">1.3.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../fsxa-ui/4.1.0/index.html">FSXA-UI</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../fsxa-ui/4.1.0/index.html">4.1.0</a>
        </li>
        <li class="version">
          <a href="../../../fsxa-ui/3.0.0/index.html">3.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../index.html">Headless</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../component-b/1.0/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Headless</a></li>
    <li><a href="documentation.html">Navigation Service (Platform)</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/pahl-espirit/headless/edit/main/modules/Nav_Service_Platform/pages/documentation.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Navigation Service documentation</h1>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For a long time, web applications were built as a conglomerate of many static websites.
Today, dynamic web applications have established themselves as the industry standard.
A typical challenge, which must be mastered again and again during the development of such an application, is the provisioning of a navigation.
It is necessary to create a structured connection between human-readable URL paths and the actual content that has to be dynamically loaded from other sources.
The application must know what to display depending on the URL.</p>
</div>
<div class="paragraph">
<p>Until now, this was a task that had to be solved individually for each Web application.
Now the Navigation Service provides a standardized format so that solutions can be reused in the future.
The developers can concentrate less on technical details and more on the added value of their application.</p>
</div>
<div class="paragraph">
<p>The Navigation Service is an e-Spirit product that is offered exclusively as a Software-as-a-Service offering in the cloud.
Self-hosted instances are not supported.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_technical_overview"><a class="anchor" href="#_technical_overview"></a>2. Technical overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Navigation Service is a service that facilitates the provisioning of navigations in dynamic (web) applications.
For this purpose, it provides a REST API, which can be used to save navigations in a suitable format in the Navigation Service and to read them out again later.
They can be retrieved in their entirety or filtered in suitable ways.
The chapter <a href="#Features">Features</a> explains the individual functions of the Navigation Service in detail.</p>
</div>
<div class="sect2">
<h3 id="_typical_use_cases"><a class="anchor" href="#_typical_use_cases"></a>2.1. Typical use cases</h3>
<div class="paragraph">
<p>The Navigation Service is to be regarded as part of the delivery layer.
In the classic scenario, the first step is to persist a navigation in Navigation Service.
The URL where this navigation is now accessible has to be persisted in a dynamic (web) application.
Each time the application is called, it retrieves the navigation from the Navigation Service and is then able to display the correct content to the user.</p>
</div>
<div class="paragraph">
<p>In the FirstSpirit universe, the persistence and updating of navigations in Navigation Service is handled by the <a href="#fsm">Navigation FirstSpirit module</a>.
This allows editors to modify content in FirstSpirit, after which the changes are automatically reflected in the navigation.
This way, new content can be displayed in applications without having to change the applications themselves.</p>
</div>
</div>
<div class="sect2">
<h3 id="OpenAPI"><a class="anchor" href="#OpenAPI"></a>2.2. OpenAPI specification</h3>
<div class="paragraph">
<p>OpenAPI specification is a standard for describing REST compliant programming interfaces.
The Navigation Service provides an OpenAPI specification including the following resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="/docs/api/swagger-files/swagger.yml">swagger.yaml</a></p>
</li>
<li>
<p><a href="/docs/swagger-ui">Swagger UI</a></p>
</li>
<li>
<p><a href="/docs/redoc">ReDoc</a></p>
</li>
<li>
<p><a href="/docs/rapidoc">RapiDoc</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_format_of_a_navigation"><a class="anchor" href="#_format_of_a_navigation"></a>2.3. Format of a navigation</h3>
<div class="paragraph">
<p>All communication with the Navigation Service takes place in JSON.
Primarily, navigations are either queried or persisted.
Navigations are represented as a tree, with each element of the tree representing a navigation element.</p>
</div>
<div class="listingblock">
<div class="title">Example navigation</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-JSON hljs" data-lang="JSON">{
    "id": "815c307c-2ca6-4f02-9653-fa3454988fc2",
    "label": "products",
    "seoRoute": "/products",
    "seoRouteRegex": null,
    "contentReference": "/Products/Sales/index.html",
    "visible": true,
    "permissions": null,
    "customData": {
        "pageDescription": "Our product range"
    },
    "children": [
        {
            "id": "4424cbd7-c6df-4d7b-b916-cfe641754fd5.",
            "label": "suitcase",
            "seoRoute": "/products/:item",
            "seoRouteRegex": "^[\\/]products\\/[^\\s\\/]+$",
            "contentReference": "/products/sales/cases.html",
            "visible": true,
            "permissions": {
                "allowed": ["customer", "admin"],
                "forbidden": ["anonym"]
            },
            "customData": {
                "available": false
            },
            "children": null
        }
    ]
}</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Functional meaning of the individual attributes</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The unique id of the navigation element.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">label</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the navigation element to be displayed on the website.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">seoRoute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL to which this navigation element leads.
Typically the URL that is later displayed in the URL field in the browser.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">seoRouteRegex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The seoRoute might contain variables.
In this case, a regex can be specified in order to be able to match the concrete variants to the corresponding navigation element.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">contentReference</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL to the content which the application must retrieve and present to the user.
In a headless FirstSpirit project this could be for example a CaaS URL, through which the page information is provided.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">visible</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies whether the navigation element should be displayed in the frontend in the navigation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">permissions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains information about roles that are allowed to see this navigation element.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">customData</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arbitrary key/value pairs, which allow individual requirements of the application to be met.
The number of values is limited to a maximum of five.
The values must be of type number, boolean or string.
Objects and arrays are not allowed here.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">children</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A list of nested navigation elements that have the same attributes (id, label, etc.).
This creates a tree structure.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For detailed technical documentation of the individual endpoints, please refer to the <a href="#OpenAPI">OpenAPI Specification</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Features"><a class="anchor" href="#Features"></a>3. Features</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following subchapters describe the features of the Navigation Service from a functional perspective.
They also link to the corresponding endpoints in the Swagger UI.
Alternative representations can be found in the section <a href="#OpenAPI">OpenAPI Specification</a>.</p>
</div>
<div class="sect2">
<h3 id="_language_fallbacks"><a class="anchor" href="#_language_fallbacks"></a>3.1. Language fallbacks</h3>
<div class="paragraph">
<p>Navigations can be uniquely identified in the Navigation Service by their Id and language.
Languages are always specified as an ISO code.
If a requested navigation exists in a general language but not in the requested variant, it will be returned in the general language.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Example: </dt>
<dd>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Exists: <strong>(foo, en)</strong> Navigation with id <em>foo</em> in language <em>en</em></p>
</li>
<li>
<p>Requested: <strong>(foo, de_AT)</strong></p>
</li>
<li>
<p>Delivered:  <strong>(foo, de)</strong></p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>It should be noted that the fallback behaviour only works in one direction.
The Navigation Service can only fall back on more general navigations, not on more specific ones.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Example: </dt>
<dd>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Available: <strong>(foo, de_AT)</strong></p>
</li>
<li>
<p>Requested: <strong>(foo, de)</strong></p>
</li>
<li>
<p>Delivered:  <strong>N/A</strong></p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_api_endpoints"><a class="anchor" href="#_api_endpoints"></a>3.2. API endpoints</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">List all</dt>
<dd>
<p>It is possible to list all available navigations.
The navigations are provided as a paginated list.<br>
The <a href="/docs/api/swagger-ui/?url=/docs/api/swagger.yml#/Navigation%20List">OpenAPI specification for listing</a> provides further information.</p>
</dd>
<dt class="hdlist1">Edit entire navigations</dt>
<dd>
<p>The Navigation Service allows you to persist, query, update and delete navigations.<br>
The <a href="/docs/api/swagger-ui/?url=/docs/api/swagger.yml#/Navigation%20CRUD">OpenAPI specification for CRUD operations</a> provides further information.</p>
</dd>
<dt class="hdlist1">Edit subtrees</dt>
<dd>
<p>Instead of entire navigations, possible subtrees can also be queried.
The navigation element is identified by its id.
It is then returned with all its child elements.
It is also possible to update subtrees of a navigation.<br>
The <a href="/docs/api/swagger-ui/?url=/docs/api/swagger.yml#/navigation%20Subtree">OpenAPI specification for subtrees</a> provides further information.</p>
</dd>
<dt class="hdlist1">Breadcrumbs</dt>
<dd>
<p>A typical feature of a web application is a breadcrumbs view, which shows the path to the currently displayed element of the application.
To facilitate this scenario, the Navigation Service offers the option of querying only the navigation elements between the root and the specified navigation element as a list.<br>
The <a href="/docs/api/swagger-ui/?url=/docs/api/swagger.yml#/Breadcrumbs">OpenAPI specification for breadcrumbs</a> provides further information.</p>
</dd>
<dt class="hdlist1">Querying subtrees by SEO route</dt>
<dd>
<p>A classic scenario is that a user opens a subpage of the web application directly using a URL.
It is possible that only the navigation for the corresponding subtree is required for the display.
For this purpose the Navigation Service offers the option to query subtrees not only by their id but also by their seoRoute attribute.
In case a seoRoute contains variables, the navigation is identified by the seoRouteRegex.<br>
The <a href="/docs/api/swagger-ui/?url=/docs/api/swagger.yml#/Search%20by%20SEO%20Route">OpenAPI specification for SEO routes</a> provides further information.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_authenticationauthorization"><a class="anchor" href="#_authenticationauthorization"></a>4. Authentication/Authorization</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_post_put_delete"><a class="anchor" href="#_post_put_delete"></a>4.1. POST, PUT, DELETE</h3>
<div class="paragraph">
<p>Due to the fact that the endpoints of the Navigation Service are freely accessible from the internet, all write operations must be explicitly secured.
This ensures that the modification or deletion of navigations stored in the Navigation Service can only be done with the appropriate permissions.
An internal identity and access management system hosted by e-Spirit is used for this purpose,
at which in compliance with OAuth a valid access token must be retrieved and transmitted to the Navigation Service with every PUT, POST and DELETE request.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The authentication/authorization is automatically taken care of by the <a href="#fsm">Navigation FirstSpirit module</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_get"><a class="anchor" href="#_get"></a>4.2. GET</h3>
<div class="paragraph">
<p>In the default setting, read requests are not protected, so all information known to the Navigation Service is freely available on the Internet.
Sensitive information must therefore not be part of the navigation of a web page.</p>
</div>
<div class="paragraph">
<p>On demand it is possible to change this, so that only the live navigations are freely available, while the preview navigations also require an authorization.
Alternatively, it is also possible to make all data accessible only after authorization.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fsm"><a class="anchor" href="#fsm"></a>5. Navigation FirstSpirit module</h2>
<div class="sectionbody">
<div class="paragraph">
<p>FirstSpirit has an integration with the Navigation Service through the <a href="https://docs.e-spirit.com/module/navigation-service-fsm/Navigation_Service_FSM_Documentation_EN.html">Navigation FirstSpirit module</a>.
If it is installed on the server and activated in the project, navigations maintained in FirstSpirit are automatically made available in the Navigation Service.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_legal_information"><a class="anchor" href="#_legal_information"></a>6. Legal information</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>Navigation Service</em> is a product of e-Spirit AG, Dortmund, Germany.</p>
</div>
<div class="paragraph">
<p>Only the licence granted by e-Spirit AG is valid for the use of the product by the user.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
